lpTag.callback({"serviceMap":[{"service":"tokenizer","account":"35872403","baseURI":"tokenizer.liveperson.net"},{"service":"coBrowse","account":"35872403","baseURI":"va.cobrowse.liveperson.net"},{"service":"accountConfigReadOnly","account":"35872403","baseURI":"z1.acr.liveperson.net"},{"service":"mobileVisit","account":"35872403","baseURI":"dispatch.look.io"},{"service":"smt","account":"35872403","baseURI":"va.v.liveperson.net"},{"service":"agent","account":"35872403","baseURI":"server.iad.liveperson.net"},{"service":"agentVep","account":"35872403","baseURI":"va.batchelor.liveperson.net"},{"service":"etool","account":"35872403","baseURI":"z1.etool.liveperson.net"},{"service":"visitorFeed","account":"35872403","baseURI":"va.v-feed.liveperson.net"},{"service":"mTag","account":"35872403","baseURI":"server.iad.liveperson.net"},{"service":"leBackofficeInt","account":"35872403","baseURI":"z1.houston.int.liveperson.net"},{"service":"lpEng","account":"35872403","baseURI":"z1.lpEng.liveperson.net"},{"service":"mobileChat","account":"35872403","baseURI":"dispatch.look.io"},{"service":"accountCreation","account":"35872403","baseURI":"z1.acc-create.liveperson.net"},{"service":"pusher","account":"35872403","baseURI":"va.push.liveperson.net"},{"service":"coApp","account":"35872403","baseURI":"z1.coapp.liveperson.net"},{"service":"staticContent","account":"35872403","baseURI":"va.content.lpsnmedia.net"},{"service":"asyncMessagingEnt","account":"35872403","baseURI":"va.msg.liveperson.net"},{"service":"leBilling","account":"35872403","baseURI":"va.le-billing.liveperson.net"},{"service":"engHistDomain","account":"35872403","baseURI":"va.enghist.liveperson.net"},{"service":"nlp","account":"35872403","baseURI":"va.nlp.liveperson.net"},{"service":"idp","account":"35872403","baseURI":"va.idp.liveperson.net"},{"service":"liveEngageVep","account":"35872403","baseURI":"va.batchelor.liveperson.net"},{"service":"connectionPanel","account":"35872403","baseURI":"va.knowledge.liveperson.net"},{"service":"keyService","account":"35872403","baseURI":"keyservice.liveperson.net"},{"service":"acCdnDomain","account":"35872403","baseURI":"accdn.lpsnmedia.net"},{"service":"predictiveDialer","account":"35872403","baseURI":"va.pd.liveperson.net"},{"service":"loggos","account":"35872403","baseURI":"z1.loggos.liveperson.net"},{"service":"leIntegration","account":"35872403","baseURI":"va.octopus.liveperson.net"},{"service":"appKeyManagement","account":"35872403","baseURI":"z1.appkey-mgmnt.liveperson.net"},{"service":"interactionPlatform","account":"35872403","baseURI":"va.i.liveperson.net"},{"service":"leDataReporting","account":"35872403","baseURI":"va.data.liveperson.net"},{"service":"ALL","account":"35872403","baseURI":"server.iad.liveperson.net"},{"service":"leBiMstr","account":"35872403","baseURI":"z1.bi.liveperson.net"},{"service":"liveEngageUI","account":"35872403","baseURI":"va.le1.liveperson.net"},{"service":"leCdnDomain","account":"35872403","baseURI":"lpcdn.lpsnmedia.net"},{"service":"visitManager","account":"35872403","baseURI":"va.vm.liveperson.net"},{"service":"asyncMessaging","account":"35872403","baseURI":"va.ams.liveperson.net"},{"service":"batchelor","account":"35872403","baseURI":"z1.batchelor.liveperson.net"},{"service":"adminArea","account":"35872403","baseURI":"server.iad.liveperson.net"},{"service":"redirect","account":"35872403","baseURI":"z1.liveper.sn"},{"service":"accountConfigReadWrite","account":"35872403","baseURI":"va.ac.liveperson.net"},{"service":"conversationVep","account":"35872403","baseURI":"va.batchelor.liveperson.net"},{"service":"pusherInt","account":"35872403","baseURI":"va.pushsrv.int.liveperson.net"},{"service":"openPlatform","account":"35872403","baseURI":"server.iad.liveperson.net"},{"service":"liveEngage","account":"35872403","baseURI":"z1.le.liveperson.net"}],"taglets":[{"name":"lpSecureStorage","type":0},{"name":"lp_version_detector","type":0},{"name":"lpTransporter","type":0},{"name":"lpUnifiedWindow","type":0},{"name":"authenticator","type":0},{"name":"hooks","type":0},{"name":"jsLoader","type":0}],"site":"35872403","features":{"Common.LiveEngage_2_CrossDomainStorage":false,"Messaging.Auto_Messages":false}});try{window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};lpTag.taglets.lpSecureStorage=lpTag.taglets.lpSecureStorage||function(e){function t(){}function n(e){return e&&Ie[e]?Ie[e]:Ie}function o(e){if(e&&e.value){e.value=null;delete e.value}e.type=ke.GET;u(e)}function r(e){if(e&&-1===e.expires)a(e);else{e.type=ke.SET;u(e)}}function a(e){e&&(e.expires=-1);e.type=ke.REMOVE;u(e)}function i(e){var t;e&&e.debug===!0&&(ve=!0);for(var n in e)if("object"==typeof e[n]&&e.hasOwnProperty(n)&&e[n].site)if(e[n].url&&0===e[n].url.indexOf("http")){ne("Configuring url "+e[n].url);t=j(e[n].url);le[t]&&Ie[t]?A(e[n].chosenStorageHandler,Ie[t]):G(e[n].url,e[n].site,e[n],e[n].chosenStorageHandler,t)}else e[n].url===ue&&x(e[n])}function u(e){var t=e.domain===ue;if(t)f(e);else{var n=j(e.domain);De.get(n)?m(e,n):g(e,n)}}function s(){lpTag.storageMethods&&!re&&(re=lpTag.storageMethods);return re?re.isSessionStorageEnabled():!1}function f(e){var t,n;if(s()){t=""+e.site+e.key;switch(e.type){case ke.GET:A(e.success,l(t,e),e.key);break;case ke.SET:p(t,e);A(e.success,e.value,e.key);break;case ke.REMOVE:n={error:"Object not found."};d(t,e)&&(n=void 0);A(e.success,n,e.key)}}else A(e.success,{error:"SessionStorage is not active",code:500},e.key)}function c(e){var t=re.getSessionData(e);try{t=""===t?"":JSON.parse(t)}catch(n){}return""!==t?t:null}function l(e,t){var n=c(e);t.appName&&null!==n&&"object"==typeof n&&(n=n[t.appName]);return""!==n?n:null}function p(e,t){var n=c(e);null===n&&(n={});if("object"==typeof n){n[t.appName]=t.value;return re.setSessionData(e,C(n))}return!1}function d(e,t){var n=!1,o=!1,r=c(e);if(null!==r&&"object"==typeof r&&r.hasOwnProperty(t.appName)){r[t.appName]=null;delete r[t.appName];for(var a in r)if(r.hasOwnProperty(a)){o=!0;break}n=!0}return n&&o?re.setSessionData(e,C(r)):n?re.removeSessionData(e):!1}function g(e,t){if(e&&(e.success||e.error)&&e.key&&e.appName&&e.domain&&e.site){delete e.type;if(se)if(le[t])if(!Ie[t]||Ie[t]&&!Ie[t].error){Y(e);K(e);ne("Made request for key: "+e.key+" appName: "+e.appName)}else{A(e.error||e.success,null,e.key);ne("No Storage Selected, Blocked request for key: "+e.key+" appName: "+e.appName)}else{G(e.domain,e.site,e.initialStorageType,e.chosenStorageHandler);pe[t].push(e)}else fe.push(function(){u(e)})}}function m(e,t){ye[t]="undefined"==typeof ye[t]?[]:ye[t];ye[t].push(e)}function y(){var e,t=(new Date).getTime(),n=!1;if(oe){clearTimeout(oe);oe=null}for(var o in de)if(de.hasOwnProperty(o)){e=0;e=t-de[o].startTime;if(e>=Te){te("iFrame not responding in time to requests, domain: "+de[o].domain);R(o,de[o].key,null,!0)}else n=!0}S(n)}function S(e){e&&!oe&&(oe=setTimeout(y,Ee))}function v(e,t){ge[e]=t?"undefined"==typeof ge[e]?1:ge[e]+1:0;ne("Domain "+e+" error count: "+ge[e],"_manageErrorState");ge[e]>Oe&&U(ye[e],e,"iFrame not responding in time to requests")}function h(e){if(le[e]&&le[e].parentNode){le[e].parentNode.removeChild(le[e]);le[e]=null;delete le[e];ge[e]=0;te("Removed iFrame for domain","_removeIFrame")}}function T(){document.body?z():setTimeout(T,0)}function E(e){e&&e.data&&me[e.origin]&&N(e.data,e.origin)}function O(e){de[e]=null;delete de[e]}function N(e,t){var n,o,r,a=b(e);if(a){n=a.id;o=a.key;if(Ce===o)k(a,t);else{r="undefined"!=typeof a.value?a.value:a.error;R(n,a.key,r,!!a.error);ne("Got result for key: "+a.key+" appName: "+a.appName)}}}function k(e,t){Ie[t]=e.value;ne("Got storage type: "+e.value+" for origin: "+t+" appName: "+e.appName);if(be[t]&&be[t].length>0){be[t].forEach(function(t){A(t,e.value)});be[t]=[]}}function R(e,t,n,o){var r,a=w(e);if(a){r=j(a.domain);I(a,n,t,o)}e&&O(e);De.set(!1,r);v(r,o);ye[r]&&ye[r].length>0&&u(ye[r].shift())}function w(e){return e&&de[e]?de[e]:void 0}function I(e,t,n,o){o?A(e.error,t,n):A(e.success,t,n)}function b(e){try{e=decodeURIComponent(e);e=JSON.parse(e)}catch(t){}return e}function C(e){var t,n;if("function"==typeof Array.prototype.toJSON){n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(o){Array.prototype.toJSON=n;throw o}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function A(e,t,n){if("function"==typeof e)try{e(t,n)}catch(o){}}function D(t,n,o){e.addEventListener?t.addEventListener(n,o,!1):t.attachEvent("on"+n,o)}function x(e){var t={value:"NONE"};F(ue,e.chosenStorageHandler);if(s()){le[ue]=!0;t={value:Re.STATICSESSIONSTORAGE}}k(t,ue)}function G(e,t,n,o,r){var a;r=r||j(e);if(!le[r]&&!pe[r]){ne("Attaching iFrame: "+e+" domain: "+r);a=M();me[r]=!0;a.setAttribute("src",L(e,t,n));pe[r]=[];se?J(r,a)():ce.push(J(r,a))}F(r,o);return a}function F(e,t){if(t){be[e]=be[e]||[];be[e].push(t)}}function M(){var e=document.createElement("iframe"),t=e.style,n="lpSS_"+Math.floor(9e10*Math.random()),o={tabIndex:"-1","aria-hidden":"true",role:"presentation",title:"Intentionally blank",name:n,id:n};t.width="0px";t.height="0px";t.position="absolute";t.top="-1000px";t.left="-1000px";for(var r in o)o.hasOwnProperty(r)&&e.setAttribute(r,o[r]);return e}function J(e,t){return function(){var n=setTimeout(function(){U(pe[e],e,"unable to load iFrame for key")},he);D(t,"load",function(){B(t,e,n)});document.body.appendChild(t)}}function U(e,t,n){for(;e.length>0;){var o=e.shift();o.error&&setTimeout(_(o.error,n||{error:n,key:o.key},o.key),0)}h(t)}function _(e,t,n){return function(){A(e,t,n)}}function B(e,t,n){n&&clearTimeout(n);le[t]=e;ne("Frame loaded "+t+" running pending request for frame");if(pe[t]){for(;pe[t].length>0;)u(pe[t].shift());pe[t]=null;delete pe[t]}}function L(e,t,n){var o,r,a,i;if(e&&"string"==typeof e){r=$();a=V(n);e=P(e);o=0<location.port.length?":"+location.port:"";i=e+"/"+a+"?loc="+encodeURIComponent(location.protocol+"//"+location.hostname+o)+"&site="+encodeURIComponent(t)+(n.initialStorageType?"&ist="+encodeURIComponent(n.initialStorageType):"")+(n.force?"&force=1":"")+(r?"&env="+encodeURIComponent(r):"")+(Z()?"&isCrossDomain=true":"")}return i}function P(e){var t,n,o=e.lastIndexOf("/");if(o>8)n=e.substr(0,o);else{t=e.indexOf("?");t>0&&(n=e.substr(0,t))}return n}function V(e){var t="storage.min.html";ve?t="storage.html":e.env&&(t="storage.secure.min.html");return t}function j(e){var t=new RegExp(/(http{1}s{0,1}?:\/\/){0,1}([^\/\?]+)(\/?)/gi),n=t.exec(e),o=null;n&&n.length>=3&&""!==n[2]&&(o=n[1]+n[2].toLowerCase());return o}function q(e){var t={};t.id=e.id;t.key=e.key;t.site=e.site;t.appName=e.appName||"*";isNaN(e.expires)||(t.expires=e.expires);if("undefined"!=typeof e.value){t.value=e.value;t.locations=H(e.locations)}return t}function H(e){e=e?e.constructor===Array?e:[e]:[];e.push(document.location.hostname);return e}function K(e){var t,n=j(e.domain);if(le[n]){e.startTime=(new Date).getTime();t=q(e);De.set(!0,n);W(t,n);S(!0)}}function W(e,t){le[t]&&le[t].contentWindow.postMessage(X(e),t)}function X(e){try{e=C(e);e=encodeURIComponent(e)}catch(t){}return e}function z(){se=!0;for(;ce.length>0;)try{ce.shift()()}catch(e){}for(;fe.length>0;)try{fe.shift()()}catch(e){}}function Q(){Se++;Se>2e4&&(Se=0);return"k"+Se+(new Date).getTime()+parseInt(100*Math.random(),10)}function Y(e,t){e.id=t?t:Q();"undefined"!=typeof e.value&&(e.type="set");de[e.id]=e}function Z(){return lpTag.features&&"function"==typeof lpTag.features.getFeature&&lpTag.features.getFeature(Ae)}function $(){return"function"==typeof lpTag.getEnv&&lpTag.getEnv()}function ee(t,n){e.lpTag&&lpTag.log&&lpTag.log(t,n,ae)}function te(e){ee(e,Ne.ERROR)}function ne(e){ee(e,Ne.DEBUG)}var oe,re,ae="lpSecureStorage",ie="3.3.0.2-release_294",ue="STATICSESSIONSTORAGE",se=!1,fe=[],ce=[],le={},pe={},de={},ge={},me={},ye={},Se=0,ve=!1,he=7e3,Te=5e3,Ee=1e3,Oe=10,Ne={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},ke={SET:"set",GET:"get",REMOVE:"remove"},Re={LOCALSTORAGE:"localStorage",SESSIONSTORAGE:"sessionStorage",INDEXEDDB:"indexedDB",COOKIE:"secureSessionCookie",STATICSESSIONSTORAGE:ue},we={STORAGE:"storage_error"},Ie={},be={},Ce="SecureStorageClient/storageType",Ae="Common.LiveEngage_2_CrossDomainStorage",De={set:function(e,t){t&&(this[t]=e)},get:function(e){return e?this[e]:void 0}};D(e,"message",E);T();return{storageTypes:Re,getStorageType:n,getValue:o,setValue:r,removeValue:a,configure:i,sessionStorageStaticDomain:ue,errorTypes:we,v:ie,name:ae,init:t,inspect:function(){var e={};for(var t in le)le.hasOwnProperty(t)&&(e[t]={url:t,storageType:Ie[t]});return{name:ae,version:ie,configuredFrames:e}}}}(window);}catch(e){lpTag.handleGeneralError("lpSecureStorage",e);}try{window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_version_detector=function(){function _log(n,e){window.lpTag&&lpTag.log&&lpTag.log(n,e,_name)}function _error(n){_log(n,"ERROR")}function _info(n){_log(n,"INFO")}function _convertConfig(conf,_config){if("undefined"!=typeof _config){if(conf)for(var i=0;i<conf.length;i++){var val=conf[i].value;if("string"==typeof val&&""!=val)if("true"===val)val=!0;else if("false"===val)val=!1;else if("["==val.charAt(0)||"{"==val.charAt(0))try{val="undefined"!=typeof JSON&&JSON.parse?JSON.parse(val):eval("("+val+")")}catch(e){lpTag.log("unable to parse JSON:"+e,"ERROR",_name)}_config[conf[i].id]=val}}else lpTag.log("_config is passed as undefined","ERROR",_name)}function init(n){_convertConfig(n,_conf)}function start(){_conf.sendUDE&&_sendUDE({name:"lpTagVer",value:lpTag._v});_conf.sendSDE&&_sendSDE({type:"lpTagVer",version:lpTag._v})}function _sendSDE(n){window.lpTag.sdes=window.lpTag.sdes||[];lpTag.sdes.push(n)}function _sendUDE(n){window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.pageVar=window.lpMTagConfig.pageVar||[];try{n.value=""+n.value;var e=encodeURIComponent(n.name)+"="+encodeURIComponent(n.value);lpMTagConfig.pageVar.push(e);_info("Added variable scope:page name:"+n.name+" value:"+n.value)}catch(a){_error("Exception in adding variable e="+a)}}var _name="lp_version_detector",_v="1.0.1",_conf={sendSDE:!1,sendUDE:!0};return{getVersion:function(){return _v},getName:function(){return _name},init:init,start:start,inspect:function(){return{conf:_conf}}}}();}catch(e){lpTag.handleGeneralError("lp_version_detector",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpajax_utils={_name:"lpajax_utils",_v:"0.1",each:function(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}},extend:function(e){this.each(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e},isEmptyObj:function(e){for(var t in e)return!1;return!0},init:function(){}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpAjax=lpTag.taglets.lpAjax||function(e){function t(){m=!0}function r(t,r){e.lpTag&&lpTag.log&&lpTag.log(t,r,f)}function a(e,t){if(g[e])r("Existing transport: "+e+" tried to register",h.DEBUG);else{g[e]=t;r("Added transport: "+e,h.DEBUG)}}function n(e){m||t();var a="unknown";try{var n=i(e);if(n){n.issueCall(e);return!0}r("No Transport found to issueCall",h.ERROR);c(h.ERROR,e.error,{responseCode:601,error:"No Transport found to issueCall, request: "+e.url,body:"ERROR"},e.context)}catch(o){n&&n.getName&&(a=n.getName());r("Transport - "+a+" - unknown exception while issueCall",h.ERROR);c(h.ERROR,e.error,{responseCode:600,error:"Transport - "+a+" - unknown exception while issueCall: "+e.url+" e="+o,body:"ERROR"},e.context)}}function o(e){m||t();for(var r in e){var a=g[r];a&&a.configure(e[r])}}function l(e){if(e&&"object"==typeof e){e.appName=p;e.ts=(new Date).getTime();e.tags&&e.tags.constructor===Array&&e.tags.push({pageId:y});r(e,h.METRICS)}}function i(e){for(var t,r=!1,a=-1,n=0;n<e.transportOrder.length;n++)if(!r){t=u({},e);var o=g[t.transportOrder[n]];if(o&&o.isValidRequest&&o.isValidRequest(t)){r=!0;a=n}}return r?g[t.transportOrder[a]]:null}function s(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}}function u(e){s(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e}function c(e,t,a,n){if("function"==typeof t)try{t.call(n||null,a);t=null}catch(o){r("runCallback: Exception in execution of callback, type :"+e+" e=["+o.message+"]",h.ERROR)}else r("runCallBack: No callback, of type :"+e,h.INFO)}var d="1.1.3",f="lpAjax",p="lpTransporter",g={},m=!1,h={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO",METRICS:"METRICS"},y="lpT"+Math.floor(1e5*Math.random())+"_"+Math.floor(1e6*Math.random());return{getVersion:function(){return d},getName:function(){return f},init:t,publishMetrics:l,issueCall:n,configureTransports:o,addTransport:a}}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsonp=lpTag.taglets.jsonp||function(e){function t(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(W,z)}catch(e){}E()}function r(e){if(e)for(var r in e)D.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(D[r]=e[r]);t()}function a(t){var r=!1;if(M&&t&&t.url){var a=!1;t.callbackName&&"string"==typeof t.callbackName&&(Q[t.callbackName]||e[t.callbackName])&&(a=!0);var n;try{n=c(t)}catch(o){k("Could not evaluate the length  of the request, e="+o,L.ERROR,"isValidRequest");r=!1}"undefined"!=typeof n&&U>n&&!a&&(r=!0)}return r}function n(e){var t;if(!a(e)){k("URL request was too long or static callback name already exists, url: "+t,L.ERROR,"issueCall");T();e&&e.error&&F(L.ERROR,e.error,s(600,"Transport - JSONP - unable to run request: "+e.url),e.context);return!1}e=l(e);e.callbackName&&"string"==typeof e.callbackName?e.retries=0:e.callbackName=q+i();t=e.url+(e.url.indexOf("?")>-1?"&":"?")+e.callback+"="+e.callbackName;e.data&&(t+="&"+d(e.data));e.query&&(t+="&"+d(e.query));e.callUrl=t;if(p(e)){I(e);g()}else k("URL request was too long and was not sent, url: "+t,L.ERROR,"issueCall");return!0}function o(){var e={};for(var t in D)D.hasOwnProperty(t)&&(e[t]=D[t]);return e}function l(e){if("string"==typeof e){var t=e;e={url:t}}if(!e.url)return!1;e.encoding=e.encoding||D.encoding;e.callback=e.callback||D.callback;e.retries="number"==typeof e.retries?e.retries:D.retries;e.timeout=e.timeout?e.timeout:D.timeout;return e}function i(e){var t,r=99999,a="x";t=e?r+a+r:Math.round(Math.random()*r)+a+Math.round(Math.random()*r);return t}function s(e,t){return{statusCode:e,responseCode:e,error:t,body:"ERROR"}}function u(){return"scr"+Math.round(999999999*Math.random())+"_"+Math.round(999999999*Math.random())}function c(e){var t=H;e.callbackName&&"string"==typeof e.callbackName&&(t=e.callbackName.length);return 4+(e.callback||D.callback).length+e.url.length+t+d(e.data).length+d(e.query).length}function d(e){var t="";if("string"==typeof e)t+=e;else{var r=!0;for(var a in e){var n;"object"==typeof e[a]?n=f(e[a]):"function"!=typeof e[a]&&(n=e[a]);if("undefined"!=typeof n){r||(t+="&");t+=encodeURIComponent(a)+"="+encodeURIComponent(n);r=!1}}}return t}function f(e){var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function p(t){var r,a=!1,n=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi);r=n.exec(0===t.callUrl.indexOf("http")?t.callUrl:e.location.href);if(r&&r.length>=3&&""!==r[2]){var o=r[2].toLowerCase();t.domainMatch=o;_[o]=_[o]||[];_[o].inFlight=_[o].inFlight||0;_[o].push(t);a=!0;G+=1;k("buffered URL: "+t.callUrl,L.DEBUG,"lpTag.taglets.jsonp.bufferRequest")}else k("NO MATCH for URL: "+t.callUrl,L.ERROR,"lpTag.taglets.jsonp.bufferRequest");return a}function g(){var e;for(var t in _)if(_.hasOwnProperty(t)){e=_[t];for(var r=!1;!r&&e.inFlight<6&&e.length>0;){var a=e.shift();if(a){k("Sent URL: "+a.callUrl,L.DEBUG,"lpTag.taglets.jsonp.sendRequests");a.scriptId=h(a.callUrl,a.encoding,a.callbackName);a.startTime=(new Date).getTime();y(t,a.callbackName,a.timeout);G-=1}else r=!0}}e=null}function m(){clearTimeout(A);A=null;var t=new Date;for(var r in Q)if(Q.hasOwnProperty(r)&&Q[r].launchTime){var a=t-Q[r].launchTime;(Q[r].loadTime||a>Q[r].timeout)&&e[r].apply(null,[s(408,{message:"Request timed out",name:"timeout"}),!0])}P>0&&(A=setTimeout(m,1e3))}function h(t,r,a){var n=u(),o=document.createElement("script");o.setAttribute("type","text/javascript");o.setAttribute("charset",r);o.onload=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null};e.addEventListener?o.onerror=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}:o.onreadystatechange=function(){if(this.readyState&&("loaded"===this.readyState||"complete"===this.readyState)){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}};o.setAttribute("src",t);o.setAttribute("id",n);document.getElementsByTagName("head")[0].appendChild(o);A||(A=setTimeout(m,1e3));o=null;return n}function y(e,t,r){_[e].inFlight=_[e].inFlight+1;Q[t]={launchTime:new Date,timeout:r};P+=1;S+=1}function T(){B+=1}function R(e){var t=document.getElementById(e);if(t)try{t.parentNode.removeChild(t)}catch(r){k("error when removing script",L.ERROR,"removeScript")}}function v(e){_[e].inFlight=_[e].inFlight-1;P-=1}function O(e,t,r){N(t.startTime,t.url,r);R(t.scriptId);v(t.domainMatch);x(t.callbackName,r);if(r){if(t.callbackName){t.callbackName=null;delete t.callbackName}w(e,t)}else{C(t);F("callback",t.success,e,t.context);t=null;g()}}function b(){var e;if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics&&V.length>0){e={tags:[{transport:W}],metrics:V};lpTag.taglets.lpAjax.publishMetrics(e);V.length=0}E()}function E(){j&&clearTimeout(j);j=setTimeout(b,D.metricsTimeout)}function N(e,t,r){var a,n;if(e){n=(new Date).getTime();a=n-e;V.push({rd:a,ts:e,url:t,method:"GET",statusCode:r?400:200});V.length>=D.metricsCount&&b()}}function w(e,t){J+=1;if(t.retries>0){t.retries=t.retries-1;n(t)}else{C(t);F(L.ERROR,t.error,e||s(408,{id:408,name:"TIMEOUT",message:"Request has timed out on all retries"}),t.context);t=null;g()}}function C(e){for(var t=["callUrl","retries","id","requestTimeout","type","encoding","launchTime","callbackName","domainMatch","startTime"],r=0;r<t.length;r++)if(e.hasOwnProperty(t[r])){e[t[r]]=null;delete e[t[r]]}}function F(e,t,r,a){if("function"==typeof t)try{t.call(a||null,r);t=null}catch(n){k("Exception in execution of callback, type :"+e+" e=["+n.message+"]",L.ERROR,"runCallback")}else k("No callback, of type :"+e,L.INFO,"runCallback")}function x(t,r){Q[t]=null;delete Q[t];if(r===!0)e[t]=function(){e[t]=null;try{delete e[t]}catch(r){}};else{e[t]=null;try{delete e[t]}catch(a){}}}function I(t){if(Q[t.callbackName]){T();w(s(409,{message:"This callbackName is already in a pending request and can't be serviced",id:409,name:"CONFLICT"}),t)}else e[t.callbackName]=function(e,r){O(e,t,r)}}function k(t,r,a){if(e.lpTag&&lpTag.log){"string"==typeof t&&a&&(t=a+": "+t);lpTag.log(t,r,W)}}var A,j,D={callback:"cb",encoding:"UTF-8",timeout:1e4,retries:2,metricsCount:100,metricsTimeout:6e4},L={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},M=!0,U=2083,q="lpCb",_={},S=0,G=0,P=0,B=0,J=0,V=[],Q={},H=i(!0).length,K="1.1.7",W="jsonp",z={init:t,configure:r,issueCall:n,isValidRequest:a,getVersion:function(){return K},getName:function(){return W},getDefaults:o,inspect:function(){return{name:W,version:K,callsMade:S,errorsFound:J,pending:P,buffered:G,refused:B,defaults:o()}}};t();return z}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.postmessage=lpTag.taglets.postmessage||function(e){function t(e){var t=0===location.protocol.indexOf("https");if(e){if(e.frames){e.frames=e.frames.constructor===Array?e.frames:[e.frames];for(var r=0;r<e.frames.length;r++)g(e.frames[r],t)}if(e.defaults)for(var a in e.defaults)Te.hasOwnProperty(a)&&e.defaults.hasOwnProperty(a)&&(Te[a]=e.defaults[a])}re=!0}function r(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(te,Oe)}catch(e){}}function a(t){var r=!1;if(e.postMessage&&e.JSON&&t&&t.success&&(t.domain&&t.validation||t.url)){t.domain=t.domain||p(t.url);(ae[t.domain]||ue[t.domain])&&(r=!0)}return r}function n(e){var t=!1;if(re&&a(e))if(ae[e.domain])if(ae[e.domain].validated!==ve.PENDING||e.validation){t=L(e);t?v(e.domain):ne[e.callId].timeout=0}else t=O(e.domain,e);else{Y("Adding iFrame to DOM - first request: "+e.domain,fe.INFO,"issueCall");t=O(e.domain,e);m(ue[e.domain]);delete ue[e.domain]}else t=D(e.domain,e.error,e.context);return t}function o(e){return e&&ae[e]?{url:ae[e].url,validated:ae[e].validated,requestCount:ae[e].requestCount,defaults:S(ae[e].defaults),started:ae[e].validated===ve.VALIDATED}:{}}function l(){var e={};for(var t in ae)ae.hasOwnProperty(t)&&(e[t]=o(t));return e}function i(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function s(e,t){return{callId:e,responseType:t.responseType,responseCode:t.responseCode,error:{message:t.message,id:t.responseCode,name:t.name}}}function u(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)}function c(){if(document.body){ce=!0;d()}else setTimeout(c,5)}function d(){for(;de.length>0;)try{de.shift().call(null)}catch(e){Y("Unable to execute queued callbacks for window interactive state: "+e,fe.ERROR,"_attachPendingIFrames")}}function f(e){return e+"_"+Math.floor(1e5*Math.random())+"_"+Math.floor(1e5*Math.random())}function p(e){var t,r=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi),a=null;if(0!==e.indexOf("http"))return location.protocol+"//"+location.host;t=r.exec(e);t&&t.length>=3&&""!==t[2]&&(a=t[1].toLowerCase()+t[2].toLowerCase());return a}function g(e,t){var r,a,n=!1;if(!e||!e.url||"string"!=typeof e.url){Y("iFrame configuration empty or missing url parameter",fe.ERROR,"_queueFrame");return n}r=p(e.url);a=0===e.url.toLowerCase().indexOf("https");if(!(ae[r]||ue[r]||t&&a!==t)){ue[r]=e;n=!0}return n}function m(e){var t=p(e.url);if(ae[t])return b(t,e.callback||e.success,e.context);var r=f("fr");ae[t]={elem:E(r),url:e.url,validated:ve.PENDING,defaults:e.defaults||{},delayLoad:isNaN(e.delayLoad)?0:e.delayLoad,requestCount:0,success:e.callback||e.success,error:e.error,maxReloadRetries:e.maxReloadRetries||3,reloadInterval:1e3*e.reloadInterval||3e4};setTimeout(function(){y(e.url,t)},ae[t].delayLoad);Y("iFrame Queued to load "+t,fe.INFO,"_addFrame");return ve.PENDING}function h(e){var t=p(e.url);ue[t]={url:e.url,defaults:e.defaults||{},delayLoad:e.delayLoad,success:e.success,error:e.error,maxReloadRetries:e.maxReloadRetries,reloadInterval:e.reloadInterval/1e3}}function y(e,t){ce?T(e,t):de.push(function(){T(e,t)})}function T(e,t){ae[t].loadCallback=ae[t].loadCallback||R(t);V(ae[t].elem,e);i(ae[t].elem,"load",ae[t].loadCallback);ae[t].iFrameOnloadTimeout=setTimeout(ae[t].loadCallback,Re);ae[t].attachTime=(new Date).getTime();document.body.appendChild(ae[t].elem)}function R(e){return function(t){if(ae[e].iFrameOnloadTimeout){clearTimeout(ae[e].iFrameOnloadTimeout);delete ae[e].iFrameOnloadTimeout}ae[e].loadTime=(new Date).getTime()-ae[e].attachTime;C(e,t)}}function v(e){le+=1;se+=1;ae[e].requestCount=ae[e].requestCount+1}function O(e,t){oe[e]=oe[e]||[];oe[e].push(t);return!0}function b(e,t,r){var a=o(e);W(t,r,a);return ae[e].validated}function E(e){var t=document.createElement("IFRAME");t.setAttribute("id",e);t.setAttribute("name",e);t.setAttribute("tabindex","-1");t.setAttribute("aria-hidden","true");t.setAttribute("title","");t.setAttribute("role","presentation");t.style.width="0px";t.style.height="0px";t.style.position="absolute";t.style.top="-1000px";t.style.left="-1000px";return t}function N(e,t,r,a,n,o){var l=!1;if(e&&t&&"function"==typeof t){ne[e]={success:t,error:r,progress:a,ctx:n,launchTime:new Date,timeout:isNaN(o)?Te.timeout:o+1e3};l=!0}return l}function w(e){if(ne[e]){ne[e]=null;delete ne[e];return!0}return!1}function C(e,t){Y("onLoad validation called "+e,fe.INFO,"_validateFrame");var r=function(t){F(t,e)};t&&t.error?F(t,e):setTimeout(function(){n({domain:e,success:r,error:r,validation:!0,timeout:100,retries:-1,defaults:ae[e].defaults})},10);return!0}function F(e,t){var r,a=ae[t];Y("running validation of domain "+t,fe.INFO,"_validateFrameCallback");if(a){ae[t].validated=e&&e.error?ve.FAILED:ve.VALIDATED;r=ae[t].validated===ve.VALIDATED;r?x(t,e):ae[t].reloadObj&&ae[t].reloadObj.retriesLeft>0?k(t):I(t)}a=null;return r}function x(e,t){var r;Y("FrameLoaded "+e,fe.INFO,"_runFrameValidated");r=S(he);for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);W(ae[e].success,ae[e].context,r);H(e);A(e,!0)}function I(e){Y("iFrame is a teapot "+e,fe.ERROR,"_runFrameFailedToLoad");if(ae[e].error){var t=s(0,ye);t.domain=e;W(ae[e].error,ae[e].context,t)}j(e);A(e,!1)}function k(e){Y("Retry loading domain: "+e,"info","_runReloadAttempt");A(e,!1);P(e)}function A(e,t){Y("Running buffer queue : "+e+" loaded: "+t,fe.INFO,"_runQueuedRequests");if(oe[e]&&oe[e].length>0){do{var r=oe[e].shift();t?n(r):W(r.error,r.context,{responseCode:600,error:"Transport - postmessage - unable to run request: "+e,body:"ERROR"})}while(oe[e].length>0);oe[e]=null;delete oe[e]}}function j(e){Y("Cleaning up failed iFrame: "+e,fe.INFO,"_cleanupIFrame");if(ae[e]){u(ae[e].elem,"load",ae[e].loadCallback);ae[e].elem.parentNode.removeChild(ae[e].elem);var t=S(ye);t.domain=e;t.url=ae[e].url;W(ae[e].error,ae[e].context,t);h(ae[e]);ae[e]=null;delete ae[e]}}function D(e,t,r){Y("Frame not found for domain: "+e,fe.ERROR,"_noFrameFound");W(t,{responseCode:600,error:"Transport - postmessage - unable to run request: "+e,body:"ERROR"},r);return!1}function L(e){var t,r=!1;e=U(e);t=S(e);try{t=M(t)}catch(a){Y("Error trying to _stringify message",fe.ERROR,"sendMessageToFrame");return!1}Y("sending msg to domain "+e.domain,fe.DEBUG,"sendMessageToFrame");var n;isNaN(e.timeout)||isNaN(e.retries)||(n=e.timeout*(e.retries+1)+2e3);N(e.callId,e.success,e.error,e.progress,e.context,n);try{r=q(e.domain,t);$=setTimeout(_,1e3)}catch(a){Y("Error trying to send message: "+a,fe.ERROR,"sendMessageToFrame");r=!1}return r}function M(e){var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function U(t){var r=ae[t.domain]&&ae[t.domain].defaults;t.callId=f("call");t.returnDomain=pe;"undefined"==typeof t.timeout&&(t.timeout=r&&r.timeout||Te.timeout);"undefined"==typeof t.retries&&(t.retries=r&&"undefined"!=typeof r.retries?r.retries:Te.retries);t.progress&&(t.fireProgress=!0);t.headers=t.headers||{};t.headers["LP-URL"]=e.location.href;return t}function q(e,t){var r=!1;try{ae[e].elem.contentWindow.postMessage(t,e);r=!0}catch(a){Y("Error trying to send message: "+a,fe.ERROR,"_postTheMessage")}return r}function _(){$&&clearTimeout($);$=null;var e=new Date,t=0,r=[];for(var a in ne)if(ne.hasOwnProperty(a)&&ne[a].launchTime){var n=e-ne[a].launchTime;n>ne[a].timeout?r.push(a):t+=1}if(r.length){Y("Checking errors found "+r.length+" timeout callbacks to call",fe.DEBUG,"_checkForErrors");for(var o=0;o<r.length;o++)G(s(r[o],me))}t>0&&($=setTimeout(_,1e3));return!0}function S(e){var t=e;try{t=JSON.parse(M(e))}catch(r){}return t}function G(e,t){var r,a=ne[e.callId],n=e.responseType,o=!1;if(e.callId&&ne[e.callId]||e.responseType===ge.reloading||e.responseType===ge.stats)try{switch(n){case ge.completed:r=a.success;o=!0;break;case ge.error:r=a.error;o=!0;ie+=1;break;case ge.progress:r=a.progress;break;case ge.reloading:e=t;r=P;break;case ge.stats:r=Z;e=e.rawData}if(o){w(e.callId);K(e);se=se>=0?0:se-1}r&&"function"==typeof r&&W(r,a&&a.ctx||null,e);r=null;a=null}catch(l){Y("Error in executing callback: "+l,fe.ERROR,"_executeMessageCallback");return!1}return!0}function P(e){Y("Got reload request from "+e,fe.INFO,"_handleReload");ae[e].validated=ve.PENDING;if(!ae[e].reloadObj){Y("Creating reloadObj"+e,fe.DEBUG,"_handleReload");ae[e].reloadObj=Q(e)}B(e)}function B(e){Y("Reload try for domain "+e+" ,retries left "+ae[e].reloadObj.retriesLeft,fe.INFO,"_reloadIFrame");ae[e].reloadObj.retriesLeft=ae[e].reloadObj.retriesLeft-1;ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);if(ae[e].reloadObj.retry)ae[e].reloadObj.setLocationTimeout=setTimeout(J(e),ae[e].reloadInterval);else{ae[e].reloadObj.retry=!0;J(e)()}}function J(e){return function(){ae[e].iFrameOnloadTimeout=setTimeout(function(){C(e,{error:{code:404,message:"Frame did not trigger load"}})},Re);V(ae[e].elem,ae[e].url)}}function V(e,t){t+=t.indexOf("?")>0?"&bust=":"?bust=";t+=(new Date).getTime();t+="&loc="+encodeURIComponent(location.protocol+"//"+location.host);Y("Setting iFrame to URL: "+t,fe.INFO,"_setIFrameLocation");e.setAttribute("src",t)}function Q(e){Y("Creating reload object "+e,fe.INFO,"_createReloadObject");var t=ae[e].maxReloadRetries;return{retriesLeft:t}}function H(e){Y("Cleaning up reload object for this instance"+e,fe.INFO,"_cleanUpReloadObject");if(ae[e].reloadObj){ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);ae[e].reloadObj=null;delete ae[e].reloadObj}}function K(e){for(var t=["callId","responseType"],r=0;r<t.length;r++){e[t[r]]=null;delete e[t[r]]}}function W(e,t,r){if(e&&"function"==typeof e)try{e.call(t||null,r)}catch(a){Y("Error in executing callback: "+a,fe.ERROR,"runCallback")}}function z(e){var t,r;try{r=e.origin;if(!ae[r])return;t=X(e.data);t.body=X(t.body)}catch(a){t=null;Y("Error in handling message from frame:"+a+" origin: "+r,fe.ERROR,"_handleMessage")}t&&"object"==typeof t&&G(t,r)}function X(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(r){Y("Error in parsing string: "+e,fe.DEBUG,"_parseJSONString")}return t}function Y(t,r,a){if(e.lpTag&&lpTag.log){"string"==typeof t&&a&&(t=a+": "+t);lpTag.log(t,r,te)}}function Z(e){if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics){e.tags&&e.tags.constructor===Array&&e.tags.push({transport:te});lpTag.taglets.lpAjax.publishMetrics(e)}}var $,ee="1.1.8",te="postmessage",re=!0,ae={},ne={},oe={},le=0,ie=0,se=0,ue={},ce=!1,de=[],fe={DEBUG:"DEBUG",INFO:"INFO",ERROR:"ERROR"},pe=p(document.location.href),ge={progress:"progressLoad",completed:"completeLoad",success:"success",error:"errorLoad",reloading:"reloading",stats:"statData"},me={responseType:ge.error,responseCode:404,message:"Request timed out on parent postMessage layer",name:"TIMEOUT"},he={responseType:ge.success,responseCode:200,message:"iFrame has successfully loaded",name:"OK"},ye={responseType:ge.error,responseCode:418,message:"This iFrame is a teapot, not very useful for communication but lovely for earl grey",name:"TEAPOT"},Te={timeout:6e4,metricsCount:1e3},Re=1e4,ve={VALIDATED:"valid",PENDING:"pending",FAILED:"failed"};c();i(e,"message",z);var Oe={v:ee,name:te,init:r,issueCall:n,isValidRequest:a,getVersion:function(){return ee},getName:function(){return te},configure:t,getFrameData:o,inspect:function(){return{name:te,version:ee,callsMade:le,errorsFound:ie,pending:se,defaults:Te,iFrameList:S(ue),activeFrames:l()}}};r();return Oe}(window);window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpTransporter=lpTag.taglets.lpTransporter||function(){function e(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,r)}function t(){for(var t=0;t<n.taglets.length;t++){var r=lpTag.taglets[n.taglets[t]];try{r.init();e("Called init on taglet: "+n.taglets[t],"DEBUG")}catch(a){e("Error init taglet:"+n.taglets[t]+"  e="+a,"ERROR")}}for(var o=0;t<n.taglets.length;o++){var l=lpTag.taglets[n.taglets[o]];try{"function"==typeof l.start&&l.start();e("Called start on taglet: "+n.taglets[o],"DEBUG")}catch(a){e("Error start taglet: "+n.taglets[o]+"e= "+a,"ERROR")}}}var r="lpTransporter",a="1.1.0",n={taglets:["lpAjax","lpajax_utils","jsonp","postmessage"]};return{v:a,name:r,init:t}}();}catch(e){lpTag.handleGeneralError("lpTransporter",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.taglets.lpUtil=lpTag.taglets.lpUtil||function(){function indexOf(e,t){if("function"==typeof[].indexOf&&"function"==typeof e.indexOf)return e.indexOf(t);if(e.constructor===Array)for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function trim(e){return"string"!=typeof e?e:e.trim?e.trim():e.replace(/^\s+|\s+$/gm,"")}function trimAndLower(e){if("string"!=typeof e)return e;var t=trim(e);return t.toLowerCase()}function getDomain(e,t){var n=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?\/:]+)(\/?)/gi),i=n.exec(e),o=null;if(i&&i.length>=3&&""!==i[2]){o=i[2].toLowerCase();t&&(o=i[1]+o)}return o}function getURLParams(e){var t,n,i={};if("string"==typeof e){t=e.substr(1).split("&");for(var o=0;o<t.length;o++)if(t[o].indexOf("=")>-0){n=t[o].split("=");2==n.length&&(i[decodeURIComponent(n[0])]=decodeURIComponent(n[1]))}}return i}function getParentDomain(e){e=""+e;var t,n,i=null,o={top:null,country:null};e=getDomain(e);t=e.split(".");if(t.length<3)return e;for(var a=t.length-1,r=a;r>-1;r--){_getIndexOfDomainPart(t[r],o,r);if(null!==o.country&&null!==o.top)break}if(null!==o.top||null!==o.country){i=o.top;(null===i||null!==o.country&&o.country<i&&i-1===o.country)&&(i=o.country);n=i>0?i-1:i;return _rebuildHostName(t.slice(n))}return e}function _rebuildHostName(e){return e.join(".")}function _getIndexOfDomainPart(e,t,n){e=""+e;null===t.top&&(IANADomains.topLevelDomain[e]||IANADomains.customTopLevelDomain[e])?t.top=n:null===t.country&&IANADomains.countryTopLevelDomain[e]&&(t.country=n)}function addQueryParams(e,t){var n=/(\?|&|\/|\\)$/;if("string"==typeof e&&e.length>0){n.test(e)&&(e=e.substr(0,e.length-1));if(Array.isArray(t))return _addQueryParamsFromArray(e,t);if(_isKeyValueObject(t))return _addKeyValueObject(e,t);if("object"==typeof t)return _addQueryParamFromObject(e,t)}return e}function _addQueryParamsFromArray(e,t){for(var n,i=e,o=0;o<t.length;o++){n=t[o];if(!i||"object"!=typeof n)break;i=_addKeyValueObject(i,n)}return i}function _addKeyValueObject(e,t){return _isValidInput(e,t)?_addKeyValue(e,t.key,t.value):e}function _addQueryParamFromObject(e,t){for(var n in t)t.hasOwnProperty(n)&&(e=_addKeyValue(e,n,t[n]));return e}function _addKeyValue(e,t,n){var i=new RegExp("([?&])"+t+"=.*?(&|$)","ig"),o=-1===e.indexOf("?")?"?":"&";if("object"==typeof n)try{n=JSON.stringify(n)}catch(a){}return e.match(i)?e.replace(i,"$1"+t+"="+n+"$2"):e+o+t+"="+n}function _isValidInput(e,t){return"string"==typeof e&&e.length>0&&_isKeyValueObject(t)}function _isKeyValueObject(e){var t=e&&e.key,n=e&&e.value;return e&&"string"==typeof t&&t.length>0&&("number"==typeof n||"string"==typeof n&&n.length>0)}function cloneExtend(e,t,n){var i;if(!e||"object"!=typeof e)return e;if(!t)return clone(e);i=t||e.constructor()||{};for(var o in e)i[o]!==e[o]&&e.hasOwnProperty(o)&&(i[o]=n?cloneExtend(e[o],void 0,n):e[o]);return i}function clone(e){try{return JSON.parse(stringify(e))}catch(t){lpTag.log("unable to clone object:"+JSON.stringify(t),"ERROR",name);return}}function convertConfig(conf,_config){if("undefined"!=typeof _config){if(conf)for(var i=0;i<conf.length;i++){var val=conf[i].value;if("string"==typeof val&&""!==val)if("true"===val)val=!0;else if("false"===val)val=!1;else if("["==val.charAt(0)||"{"==val.charAt(0))try{val="undefined"!=typeof JSON&&JSON.parse?JSON.parse(val):eval("("+val+")")}catch(e){lpTag.log("unable to parse JSON:"+JSON.stringify(e),"ERROR",name)}_config[conf[i].id]=val}}else lpTag.log("_config is passed as undefined","ERROR",name)}function addStyleTag(e,t){if(e&&"string"==typeof e){t=t||{};var n,i=t.document||window.document,o=t.id;if("undefined"!=typeof o){n=i.getElementById(o)||i.createElement("style");n.id=o}else n=i.createElement("style");n.type="text/css";i.getElementsByTagName("head")[0].appendChild(n);n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e));return n}}function objectKeys(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=n);return t}function waitForBody(e,t){function n(){o.body?runCallback(e,i):setTimeout(n,50)}t=t||{};var i=t.context,o=t.document||window.document;n()}function stringify(e){var t,n;if("function"==typeof Array.prototype.toJSON){n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(i){Array.prototype.toJSON=n;throw i}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function getUID(){var e="tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(e){var t=16*Math.random()|0,n="t"==e?t:3&t|8;return n.toString(16)});return e+"-"+Math.floor(1e5*Math.random())}function runCallback(e,t){t=t||window;if("function"==typeof e){var n=Array.prototype.slice.call(arguments,2);try{return e.apply(t,n)}catch(i){lpTag.log("Failed to execute callback exc= "+i.message,"ERROR",name)}}}function runCallbackByObject(e,t,n){if("function"==typeof getPropertyFromObject){e=e||{};var i=getPropertyFromObject(window,e.jsContext),o=getPropertyFromObject(window,e.jsMethodName);if("function"!=typeof o){lpTag.log("runCallbackByObject err=function "+e.jsMethodName+" was not found","ERROR","utils");n()}else{lpTag.log("runCallbackByObject calling function "+e.jsMethodName,"DEBUG","utils");o.call(i,t)}}else lpTag.log("lpTag.taglets.lpUtil.getPropertyFromObject is not a function","ERROR","utils")}function registerEvent(e,t,n){e&&t&&n&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n))}function unregisterEvent(e,t,n){e&&t&&n&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n))}function buildClassString(e,t,n){var i,o;e="string"==typeof e?e:"";i=e.split(" ");o=t&&t.constructor===Array?t:"string"==typeof t?[t]:[];n=n&&n.constructor===Array?n:"string"==typeof n?[n]:[];for(var a=0;a<i.length;a++)indexOf(n,i[a])<0&&indexOf(o,i[a])<0&&o.push(i[a]);return o.join(" ").replace(/$\s/gi,"")}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function getPropertyFromObject(e,t,n){var i,o=e;if("string"==typeof t){i=t.split(".");for(var a=0;a<i.length;a++){if("undefined"==typeof o||null===o||"undefined"==typeof o[i[a]]||null===o[i[a]]){o="undefined"!=typeof n?n:void 0;break}o=o[i[a]]}}else lpTag.log("Empty path sent to lookup getPropertyFromObject","DEBUG","utils");return o}function addClass(e,t){if(e.className.indexOf(t)<0){e.className=[e.className,t].join(" ");e.className=_removeSpaces(e.className)}}function removeClass(e,t){e.className=e.className.replace(new RegExp(t,"g"),"");e.className=_removeSpaces(e.className)}function _removeSpaces(e){return trim(e.replace(/\s\s*/g," "))}function mapString(e,t,n){var i={};if(e&&"string"==typeof e){n&&(e=decodeURIComponent(e));for(var o,a=e.split(t),r=0;r<a.length;r++){o=a[r].split("=");i[o[0]]=o[1]}}return i}var name="Utils",IANADomains={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info","int":"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm","do":"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im","in":"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"}},cookieActions={delimiter:"|",set:function(e,t,n){if("string"==typeof e&&t.join&&"function"==typeof t.join){var i=encodeURIComponent(e)+"="+encodeURIComponent(t.join(this.delimiter))+";path=/";"undefined"!=typeof n&&(i+=";domain="+n);document.cookie=i;return!0}},get:function(e){var t="\\$&";if("string"==typeof e){var n=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,t)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||null;if("string"==typeof n){var i=decodeURIComponent(n);if(i)return i.split(this.delimiter)}}},remove:function(e,t){if("string"==typeof e){this.set(e,["null"],t);return!0}}};return{indexOf:indexOf,trim:trim,trimAndLower:trimAndLower,getDomain:getDomain,getURLParams:getURLParams,getParentDomain:getParentDomain,addQueryParams:addQueryParams,cloneExtend:cloneExtend,clone:clone,convertConfig:convertConfig,addStyleTag:addStyleTag,objectKeys:objectKeys,waitForBody:waitForBody,stringify:stringify,cookieActions:cookieActions,getUID:getUID,runCallback:runCallback,runCallbackByObject:runCallbackByObject,registerEvent:registerEvent,unregisterEvent:unregisterEvent,buildClassString:buildClassString,isEmpty:isEmpty,getPropertyFromObject:getPropertyFromObject,addClass:addClass,removeClass:removeClass,mapString:mapString}}();window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.AppConfigurationManager=lpTag.unifiedWindow.AppConfigurationManager||function(e){function t(e,t,i,o){var a="",r=n(e,t,i);o&&e.connector?e.connector.type===T?a=g(r,e,t):(e.connector.type===E||e.connector.type===I)&&(a=u(r,e,t)):a=f(r,t);return a}function n(e,t,n){var i={accountId:t.accountId,env:t.env};n?d(i,e,t):p(i,e,t);return i}function i(e){return e.connector&&0===e.connector.type}function o(){return"undefined"!=typeof _.taglets.lpUnifiedWindowRecaptcha}function a(e,t){var n=b&&b.lpVersion;return n&&e.debug&&e.env!==A?"/"+n:t?"/"+t:""}function r(e){b&&b.lpDebug&&(e.lpDebug=b.lpDebug);b&&b.lpVersion&&(e.lpVersion=b.lpVersion);return e}function l(){w=e.utils;_=e.lpTag;b=e.queryParams}function s(e){var t=document.createElement("a");t.href=e;return{search:t.search,port:t.port,protocol:t.protocol,hostname:t.hostname,pathname:c(t.pathname)}}function c(e){return 0===e.indexOf("/")?e:"/"+e}function d(e,t,n){e.poppedOut=!0;e.sessionId=n.sessionId;e.supportBlockCCPattern=n.supportBlockCCPattern;e.scp=n.scp;e.engConf={lewid:t.lewid}}function p(e,t,n){var a=t.connector;if(t.connector&&t.connector.configuration&&!t.async){a=w.clone(t.connector);a.configuration.authorizationEndpoint&&(a.configuration.authorizationEndpoint=encodeURIComponent(a.configuration.authorizationEndpoint));a.configuration.tokenEndpoint&&(a.configuration.tokenEndpoint=encodeURIComponent(a.configuration.tokenEndpoint))}e.external=!0;e.chatSessionTimeout=n.chatSessionTimeout;e.supportBlockCCPattern=n.supportBlockCCPattern;e.scp=n.scp;e.secureStorageType=n.secureStorageType;e.engConf={async:t.async,scid:t.scid,cid:t.cid,eid:t.eid,lang:t.lang,svid:t.svid,ssid:t.ssid,lewid:t.lewid,connector:a};t.isOffline&&(e.engConf.isOffline=!0);o()&&(e.useRecaptcha=!0);n.sessionTimeout&&(e.sessionTimeout=n.sessionTimeout);n.chatReconnectTimeout&&(e.chatReconnectTimeout=n.chatReconnectTimeout);i(t)&&(e.engConf.authConnId=t.connector.id);t.skill&&(e.engConf.skill=t.skill);t.preChatLines&&(e.engConf.preChatLines=v(t.preChatLines));e.engConf.connector&&e.engConf.connector.configuration&&delete e.engConf.connector.configuration.jwtPublicKey}function u(e,t,n){var i,o;t.connector=t.connector||{};if(C(t.connector)){i=t.connector.type===E?n.useOAuth2Standard?"id_token":"token":"code";var a=m(n,!0),r=h(e,!0,n.useOAuth2Standard),l={response_type:i};"undefined"!=typeof t.connector.configuration.clientId&&(l.client_id=t.connector.configuration.clientId);if(n.useOAuth2Standard){l.redirect_uri=a;l.state=r}else l.redirect_uri=a+r;o=w.addQueryParams(t.connector.configuration.authorizationEndpoint,l)}else{e.invalidAuthConnector=!0;o=f(e,n)}return o}function g(e,t,n){var i=t.connector.configuration.genKeyUrl,o=s(i),a={rt:"redir",redirect:encodeURIComponent(n.codeRepository+"/index.html"),lpUnifiedWindowConfig:encodeURIComponent(w.stringify(e))};a=r(a);o.search=w.addQueryParams(o.search,a);return o.protocol+"//"+o.hostname+(o.port?":"+o.port:"")+o.pathname+o.search}function f(e,t,n){return m(t,n)+h(e,n)}function m(e,t){var n=s(e.staticCodeRepository+"/index.html"),i=n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")+n.pathname;return t?encodeURIComponent(i):i}function h(e,t,n){var i,o;if(n){i={lpUnifiedWindowConfig:e};i=r(i);o=w.stringify(i)}else{i={lpUnifiedWindowConfig:encodeURIComponent(w.stringify(e))};i=r(i);o=w.addQueryParams("?",i)}return t?encodeURIComponent(o):o}function C(e){e.configuration=e.configuration||{};return e.configuration.authorizationEndpoint&&e.type}function v(e){var t=1500,n={},i=0;for(var o in e){n[o]=e[o];if(i>=t)break;i+=o.length+e[o].length}return n}function S(e){var t;_.features&&"function"==typeof _.features.getFeature&&(t=_.features.getFeature(e));return t}function y(e,n,i,o){var a=t(e,n,i,o);return window.open(a,e.target+"POP",x)}var w,_,b,T=0,E=1,I=2,A="dev",x="menubar=no, location=no, resizable=1, scrollbars=no, status=yes, width=280px, height=400px, modal=true";l(e);return{createExternalConfiguration:n,isRecaptchaEnabled:o,isAuthenticatedEnabled:i,getExternalResourceURL:t,getFeatureById:S,getUWDir:a,openExternal:y}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.BrowserStateManager=lpTag.unifiedWindow.BrowserStateManager||function(e){function t(e){_="boolean"==typeof navigator.onLine;b=_?navigator.onLine:!0;R=e;E=s();T=window.innerWidth;k=h();var t=m();I=t.hiddenAttr;A=t.visibilityChange;p()}function n(e,t,n){D[e]=D[e]||[];D[e].push({callback:t,context:n})}function i(e,t){w(e,t)}function o(){_&&(b=navigator.onLine);return b}function a(){return!!I}function r(){return L}function l(){return document[I]}function s(){var e;if("undefined"!=typeof window.orientation){var t=window.orientation;e=90===t||-90===t}else e=window.innerWidth>window.screen.availHeight;return e}function c(){for(var e in D){D[e]&&D[e].constructor===Array&&(D[e].length=0);D[e]=null;delete D[e]}}function d(){c();k&&W.unregisterEvent(window,k,C);W.unregisterEvent(window,"resize",S);W.unregisterEvent(window,"focus",u);W.unregisterEvent(window,"blur",f)}function p(){k&&W.registerEvent(window,k,C);W.registerEvent(window,"resize",S);W.registerEvent(window,"focus",u);W.registerEvent(window,"blur",f);W.registerEvent(document,A,g)}function u(){L=!0;if("undefined"!=typeof D[O.FOCUS_CHANGE])for(var e=0;e<D[O.FOCUS_CHANGE].length;e++)W.runCallback(D[O.FOCUS_CHANGE][e].callback,D[O.FOCUS_CHANGE][e].context,{focus:L})}function g(){if("undefined"!=typeof D[O.VISIBILITY_CHANGE])for(var e=0;e<D[O.VISIBILITY_CHANGE].length;e++)W.runCallback(D[O.VISIBILITY_CHANGE][e].callback,D[O.VISIBILITY_CHANGE][e].context,{visible:!document[I]})}function f(){L=!1;if("undefined"!=typeof D[O.FOCUS_CHANGE])for(var e=0;e<D[O.FOCUS_CHANGE].length;e++)W.runCallback(D[O.FOCUS_CHANGE][e].callback,D[O.FOCUS_CHANGE][e].context,{focus:L})}function m(){var e,t;if("undefined"!=typeof document.webkitHidden){e="webkitHidden";t="webkitvisibilitychange"}else if("undefined"!=typeof document.mozHidden){e="mozHidden";t="mozvisibilitychange"}else if("undefined"!=typeof document.msHidden){e="msHidden";t="msvisibilitychange"}else if("undefined"!=typeof document.hidden){e="hidden";t="visibilitychange"}return{hiddenAttr:e,visibilityChange:t}}function h(){return R.isAndroid()||R.isIOS()?"orientationchange":"resize"}function C(){N&&clearTimeout(N);var e=300;R.isAndroid()&&(e=T===window.innerWidth?900:400);N=setTimeout(v,e)}function v(){var e,t,n;e=s();t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;if(e!==E&&"undefined"!=typeof D[O.ORIENTATION_CHANGE])for(var i=0;i<D[O.ORIENTATION_CHANGE].length;i++){W.runCallback(D[O.ORIENTATION_CHANGE][i].callback,D[O.ORIENTATION_CHANGE][i].context,{landscape:e,height:n,width:t});E=e}T=window.innerWidth}function S(){x?clearTimeout(x):y();x=setTimeout(function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,n={height:t,width:e};if("undefined"!=typeof D[O.RESIZE])for(var i=0;i<D[O.RESIZE].length;i++)W.runCallback(D[O.RESIZE][i].callback,D[O.RESIZE][i].context,n);x=null},300)}function y(){if("undefined"!=typeof D[O.RESIZE_START])for(var e=0;e<D[O.RESIZE_START].length;e++)W.runCallback(D[O.RESIZE_START][e].callback,D[O.RESIZE_START][e].context)}function w(e,t){var n=D[e];if(n){for(var i=[],o=0;o<n.length;o++)n[o].callback!==t&&i.push(n[o]);n.length=0;D[e]=i}}var _,b,T,E,I,A,x,N,R,k,O=(lpTag.unifiedWindow.log,{RESIZE_START:"resizeStart",ORIENTATION_CHANGE:"orientationChange",RESIZE:"resize",FOCUS_CHANGE:"focusChange",VISIBILITY_CHANGE:"visibilityChange"}),D={},L=!0,W=lpTag.taglets.lpUtil;t(e);return{EVENT_NAME:O,on:n,off:i,visibilitySupported:a,isConnected:o,isHidden:l,isFocus:r,isLandscape:s,unregisterAllEvents:c,dispose:d}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.DeviceDetector=lpTag.unifiedWindow.DeviceDetector||function(){function e(){return V===P.familyEnum.desktop}function t(){return V===P.familyEnum.mobile}function n(){return V===P.familyEnum.tablet}function i(){return j===P.osEnum.iOS}function o(){return j===P.osEnum.android}function a(){return o()&&!z.match(/Chrome/)}function r(){return F}function l(){return k}function s(){return O}function c(){return L}function d(){if("boolean"==typeof W)return W;var e=!0;try{new Audio}catch(t){e=!1}return e}function p(){return D}function u(){return B}function g(){return H}function f(){return i()?R()<=7||!1:void 0}function m(){return i()?R()<=6||!1:void 0}function h(){return i()?R()>=8||!1:void 0}function C(){return j===P.osEnum.windows}function v(){return j===P.osEnum.mac}function S(){return"Microsoft Internet Explorer"===U||y()}function y(){return z.match(/Trident.*rv[ :]*11\./)}function w(){return P.familyName()}function _(){var e=document.createElement("DIV");I(e);A(e);e=null}function b(){var e;o()?e=z.match(/Android (\d+)\.(\d+)(?:\.(\d+))?;+/i):i()&&(e=z.match(/OS (\d+)_(\d+)(?:_(\d+))?\s+/i));return e}function T(){var e;if(S())if(y())e=11;else{var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");try{null!=t.exec(z)&&(e=parseFloat(RegExp.$1))}catch(n){}}return e}function E(){var e=document.getElementsByName("viewport");if(e.length>0)for(var t=0;t<e.length;t++){var n=N(e[t].content);if("device-width"===n.width)return!0}return!1}function I(e){O=x(e,"AnimationName");O.supported&&(k=!0)}function A(e){D=x(e,"Transition");D.supported&&(L=!0)}function x(e,t){var n,i={Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-",Khtml:"-khtml-"},o=!1,a=t?t.substring(0,1).toLowerCase()+t.substr(1):"",r=a,l=t;if(a&&"undefined"!=typeof e.style[a]){o=!0;n=""}if(!o)for(var s in i)if(t&&i.hasOwnProperty(s)&&"undefined"!=typeof e.style[s+t]){n=i[s];r=n+a;l=s+t;o=!0;break}return{supported:o,preFix:o?n:"",propertyName:o?l:"",cssPropertyName:o?r:""}}function N(e){for(var t,n=e.split(","),i={},o=0;o<n.length;o++){t=n[o].split("=");i[M.trimAndLower(t[0])]=M.trimAndLower(t[1])}return i}function R(){return Number(B[1])}var k,O,D,L,W,M=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil),P=lpTag.device,z=navigator.userAgent,U=navigator.appName,j=P.os(),V=P.family(),B=b(),H=T(),F=E();_();return{isDesktop:e,isMobile:t,isTablet:n,isMobileOptimized:r,isAnimationSupported:l,getAnimationData:s,isTransitionSupported:c,isAudioSupported:d,getTransitionData:p,isAndroid:o,isNativeAndroid:a,isIOS:i,isWindows:C,isMacOS:v,getDeviceFamilyName:w,osVersion:u,browserVersion:g,isIOS6:m,isIOS7:f,isIOS8OrAbove:h,isIE:S}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.Events=lpTag.unifiedWindow.Events||function(e){function t(e){r=new lpTag.Events(e);l=r.trigger;r.trigger=n;s=lpTag.taglets.lpUtil}function n(e,t,n){l(e,t,n);i(e)}function i(e){var t,n,i;c||(c=s.getPropertyFromObject(lpTag,"unifiedWindow.publicEvents"));e="object"==typeof e?e:null;n=e&&c&&c[e.appName]&&c[e.appName][e.eventName];if(lpTag.events&&e&&(e.global||n)){if(e.global){e.passDataByRef=!1;e.aSync=!0;lpTag.events.trigger(e)}if(n){t=Array.isArray(n)?n:[n];for(var a=0;a<t.length;a++){i=o(e,t[a]);lpTag.events.trigger(i)}}}}function o(e,t){var n=s.clone(t);n.passDataByRef=!1;n.aSync=!0;n.data=a(e,n.data);return n}function a(e,t){var n={};if("object"==typeof t)for(var i in t)n[i]=s.getPropertyFromObject(e,t[i]);else n=s.getPropertyFromObject(e,t);return n}var r,l,s,c;t(e);return r};!function(){function e(){function e(e){var t=r[a]&&r[a][e];return"string"==typeof t?t:o(e)||""}function t(e){return s[e]===!0}function n(e){a=e||l}function i(e,t){t=t||{};r[t.locale]=r[t.locale]||{};lpTag.taglets.lpUtil.cloneExtend(e,r[t.locale]);t.locale===l&&lpTag.taglets.lpUtil.cloneExtend(e,lpTag.unifiedWindow.defaultDictionary)}function o(e){var t=lpTag.unifiedWindow.defaultDictionary;return t[a]&&t[a][e]?t[a][e]:t[e]}var a,r={},l="en-US",s={"he-IL":!0,"ar-AE":!0};return{getString:e,isRTL:t,add:i,setLocale:n}}window.lpTag=window.lpTag||{};lpTag.unifiedWindow.language=new e;lpTag.unifiedWindow.addLanguage=function(e,t){lpTag.unifiedWindow.language.add(e,t)}}();window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.SessionManager=lpTag.unifiedWindow.SessionManager||function(e){function t(e){if("object"==typeof e&&e.accountId&&e.secureStorageLocation&&"string"==typeof e.accountId){b=e.accountId;T=e.sessionId;_=e.events;E=e.external;I=e.secureStorageLocation;w=e.cookieRefreshTimeout||5e3;A=e.sessionTimeout;g(e,function(e){A=e})}}function n(e,t){var n;k.getValue({key:O,site:b,success:function(i){i&&(n=i.timestamp||"null");!T&&i&&(T=i.sid);d(T,n,!1,function(n){R.runCallback(e,null,n);"function"==typeof t&&R.runCallback(t)})},error:function(){},appName:N,domain:I})}function i(e){var t;k.getValue({key:O,site:b,success:function(n){n&&(t=n.timestamp);R.runCallback(e,null,t)},error:function(){},appName:N,domain:I})}function o(){return A}function a(e,t,n){r(function(i){R.runCallback(n,null,e||i||t)})}function r(e){k.getValue({key:O,site:b,success:function(t){t&&R.runCallback(e,null,parseInt(t.sessionTimeout,10))},error:function(){},appName:N,domain:I})}function l(e){k.getValue({key:O,site:b,success:function(t){t&&R.runCallback(e,null,t)},error:function(){},appName:N,domain:I})}function s(e){if(E)R.runCallback(e);else{D=!1;n(v,e)}}function c(e){clearTimeout(y);u();T=null;D=!0;e===!0||E||k.removeValue({key:O,site:b,appName:N,success:S,error:S,domain:I})}function d(e,t,n,i){k.getValue({key:O,site:b,success:function(o){if(!e||"null"===e&&!n)e=R.getUID();else if(e&&o&&e!==o.sid&&n){_.trigger({appName:x,eventName:"sessionChanged",data:o.sid});D=!0;return}E?R.runCallback(i,null,e):k.setValue({key:O,site:b,value:{sid:e,timestamp:t||"null",sessionTimeout:A||"null"},success:function(){R.runCallback(i,null,e)},error:function(){},appName:N,domain:I})},error:function(){},appName:N,domain:I})}function p(){_.bind({appName:"ChatStateManager",eventName:"startChatInfo",func:m})}function u(){_.unbind({appName:"ChatStateManager",eventName:"startChatInfo",func:m})}function g(e,t){E?R.runCallback(t,null,f()||e.sessionTimeout):a(e.echoedSessionTimeout,e.sessionTimeout,function(e){R.runCallback(t,null,e)})}function f(){var e,t=h();t.CT&&(e=parseInt(t.CT,10));return e}function m(e){if(e.chatTimeout){A=e.chatTimeout;if(E){var t=h();t.CT=A;window.location.hash=C(t)}}}function h(){return R.mapString(window.location.hash.substring(1),"&",!0)}function C(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return encodeURIComponent(t.join("&"))}function v(){y&&clearTimeout(y);if(!D){var e=(new Date).getTime();d(T,e,!0,function(){y=setTimeout(v,w)})}}function S(){}var y,w,_,b,T,E,I,A,x="SessionManager",N="SessionState",R=lpTag.taglets.lpUtil,k=(lpTag.unifiedWindow.log,lpTag.taglets.lpSecureStorage),O="-lpuw",D=!1;t(e);p();return{dispose:c,refresh:s,getSessionId:n,getSessionTime:i,getSessionCookie:l,getSessionTimeout:o}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.StateAnalyzer=lpTag.unifiedWindow.StateAnalyzer||function(e,t){function n(e){if("object"==typeof e&&t&&e.sessionId&&e.accountId&&e.secureStorageLocation){c=t;d=e.sessionId;p=e.accountId;g=!!e.disableSessionTimeout||!1;u=e.secureStorageLocation}}function i(e,t){lpTag.taglets.lpSecureStorage.getValue({key:d,site:p,success:r(e),error:s(t),appName:f,domain:u})}function o(e){var t=(new Date).getTime(),n=1e3*c.getSessionTimeout(),i=null;c.getSessionTime(a.bind(this,e,t,n,i))}function a(e,t,n,i,o){i="undefined"==typeof o||"null"===o?h.NOT_STARTED:g||n>=t-o?h.IN_SESSION:h.EXPIRED;e(i)}function r(e){return function(t){o(l.bind(this,e,t,h.NOT_STARTED))}}function l(e,t,n,i){t&&i===h.EXPIRED?n=h.EXPIRED:t?n=h.IN_SESSION:i===h.IN_SESSION&&(n=h.INVALID);m.runCallback(e,null,t,n)}function s(e){return function(t){m.runCallback(e,null,t,h.NOT_STARTED)}}var c,d,p,u,g,f="UIState",m=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil),h={NOT_STARTED:0,IN_SESSION:1,INVALID:2,EXPIRED:3};n(e);return{getState:i,state:m.clone(h)}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.WindowConfigurationManager=lpTag.unifiedWindow.WindowConfigurationManager||function(e){function t(e){if("object"==typeof e&&e.sessionId&&e.accountId&&e.secureStorageLocation&&e.domain){d=e.sessionId;c=e.accountId;p=e.secureStorageLocation;u=e.domain;f=e.windowId;g=d+h}}function n(e){m?C.runCallback(e,null,m):v.getValue({key:g,site:c,success:r(e),error:r(e),appName:h,domain:p})}function i(){v.removeValue({key:g,site:c,appName:h,success:s,error:s,domain:p})}function o(e){v.setValue({key:g,site:c,value:{conf:e,windowId:f},success:a,error:a,appName:h,domain:p,expires:108e5})}function a(){}function r(e){return function(t){if(e)if(t){m=t.conf;f=t.windowId;C.runCallback(e,null,m)}else l(e)}}function l(e){var t;if(f){t="https://"+u+"/api/account/"+c+"/configuration/engagement-window/window-confs/"+f;lpTag.taglets.jsonp.issueCall({url:t,timeout:5e3,retries:0,success:function(t){if(t&&t.json&&t.json&&!t.error){m=t.json;C.runCallback(e,null,m);o(m)}else C.runCallback(e)},error:function(){C.runCallback(e)}})}else C.runCallback(e,null,{})}function s(){}var c,d,p,u,g,f,m,h="UIConf",C=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil),v=lpTag.taglets.lpSecureStorage;t(e);return{getConf:n,clear:i}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.WrapperWindow=lpTag.unifiedWindow.WrapperWindow||function(e,t,n,i){function o(e){var t;if(e&&ce.isDesktop()&&e.right>=0){t=e.right>document.body.clientWidth?document.body.clientWidth-280:e.right;Se.style.right=t+"px";ye.style.right=t+"px"}}function a(e){if(e){Y()||o(e.position);r(e.maximized);l(e.embedded,Be.external,Be.poppedOut)}else r(Be.isMaximized)}function r(e){if(e){Se.style.display="none";ye.style.display="block"}else{Se.style.display="block";ye.style.display="none"}}function l(e,t,n){if(!e&&!t&&!n){Se.style.display="none";ye.style.display="none"}}function s(e,t){te();t&&R();var n=ue[e];if(n&&n!==ge){pe=n.error;b(pe);ce.isDesktop()&&Ie.focus();n.title?c(n.title):n.text&&c(n.text);M(n.text,n.imgUrl,n.imgAltText,e);ge=n}}function c(e,t){if(fe!==e){var n=he.querySelectorAll('[data-lp-point="headerText"]');t=t||e;for(var i=0;i<n.length;i++)n[i].innerHTML=t;fe=e}}function d(){N()&&(he.style.display="block")}function p(){N()&&(he.style.display="none")}function u(e,t){N()?Ue.runCallback(t):Ue.waitForBody(function(){J(e);D();Ue.runCallback(t)})}function g(){return he}function f(){return Se}function m(){return we}function h(){return ye}function C(){return Ce}function v(){return Ae}function S(){return xe}function y(){return Ne}function w(){return Re}function _(){return ke}function b(e){e?Ue.removeClass(Ie,"lp_hidden"):Ue.addClass(Ie,"lp_hidden")}function T(e){e?Ue.removeClass(Oe,"lp_hidden"):Ue.addClass(Oe,"lp_hidden")}function E(e){e&&le(e)}function I(){if(!Ve){k();ge=null;fe=null;x(!1);Ce.remove?Ce.remove():document.body.removeChild(Ce);Ve=!0;Ue.runCallback(We)}}function A(){return Pe.WRAPPER_DIV_ID}function x(e){je=e}function N(){return je===!0}function R(){r(!0)}function k(){O();de.off(de.EVENT_NAME.ORIENTATION_CHANGE,ne)}function O(){Ue.unregisterEvent(Se,"click",R);Ue.unregisterEvent(Ie,"click",I)}function D(){Ue.registerEvent(Ie,"click",I)}function L(e){te();var t=Ee.querySelector('[data-lp-point="message"]');if(t){t.remove?t.remove():Ee.removeChild(t);e||c("");z()}}function W(){return Be.iconsRepository}function M(e,t,n,i){d();t=t?t:"";n=n?n:"";e=e?e:"";L();var o;o=i===me.WAIT?'<div class="lp_message" data-lp-point="message"><table class="lp_centralizer"><tbody><td><div class="lp_rotator-container"><div class="lp_rotator-container-bg"></div><div class="lp_rotator"><img src="{{imagesRepository}}/{{imageUrl}}" alt=""></div></div></td></tbody></table></div>':'<div class="lp_message" data-lp-point="message" aria-labelledby="lp_alert_message"><table class="lp_centralizer"><tbody><tr><td><img src="{{imagesRepository}}/{{imageUrl}}"><div id="lp_alert_message" class="lp_text">{{text}}</div></td></tr></tbody></table></div>';o=P(o);o=o.replace("{{text}}",e);o=o.replace("{{imageUrl}}",t);o=o.replace("{{imageAltText}}",n?'alt="'+n+'"':"");Ee.innerHTML+=o;setTimeout(function(){Ee.firstChild.setAttribute("role","alert")},0)}function P(e){e=e.replace(/\{\{iconsRepository\}\}/g,W());e=e.replace(/\{\{imagesRepository\}\}/g,Be.imagesRepository);return e}function z(){Ue.removeClass(Ee,"lp_centered")}function U(e,t){if("object"==typeof e)for(var n in e)Be[n]=e[n];else Be[e]=t}function j(e,t,n,i){ce=t;de=n;We=i;U(e);V()}function V(e){e&&ze.setLocale(e);ue={CONNECTION_UNAVAILABLE:{title:ze.getString("couldNotConnect"),imgUrl:"connect-error-dark.png",text:ze.getString("connectionUnavailable"),error:!0},RIP:{title:ze.getString("error"),imgUrl:"connect-error-dark.png",text:ze.getString("chatEndedOnExternalWindow"),error:!0},EXTERNAL_OPEN:{title:ze.getString("error"),imgUrl:"connect-error-dark.png",text:ze.getString("externalWindowOpen"),error:!0},UNSUPPORTED:{title:ze.getString("error"),imgUrl:"connect-error-dark.png",
text:ze.getString("unsupportedBrowserMode"),error:!0},IN_SESSION:{title:ze.getString("error"),imgUrl:"connect-error-dark.png",text:ze.getString("cannotResumeChat"),error:!0},AUTH_ERROR:{title:ze.getString("error"),imgUrl:"thank-you-dark.png",text:ze.getString("chatAuthError"),error:!0},SESSION_EXPIRED:{title:ze.getString("sessionExpired"),imgUrl:"embedded-error.png",text:ze.getString("sessionError"),error:!0},WAIT:{title:ze.getString("loading"),imgUrl:"loader_on_warmGray5_75.gif",imgAltText:ze.getString("loading")}};me=Ue.objectKeys(ue)}function B(){var e=Pe.WRAPPER_DIV_CSS_CLASS_PREFIX;if(ce.isMobile()){e+=Pe.MOBILE_CSS_CLASS;Ue.addClass(Ce,Pe.DEVICE_CLASS)}else if(ce.isTablet()){e+=Pe.TABLET_CSS_CLASS;Ue.addClass(Ce,Pe.DEVICE_CLASS)}else e+=Pe.DESKTOP_CSS_CLASS;Ue.addClass(Ce,e);return e}function H(){ce.isNativeAndroid()&&Ue.addClass(Ce,Pe.WRAPPER_DIV_CSS_CLASS_PREFIX+Pe.NATIVE_CSS_CLASS);var e=Pe.WRAPPER_DIV_CSS_CLASS_PREFIX;if(ce.isIE())e+="ie"+ce.browserVersion();else if(ce.isIOS()){e+=Pe.IOS_CSS_CLASS;ce.isIOS6()?e+=" "+Pe.IOS6_CSS_CLASS:ce.isIOS8OrAbove()&&(e+=" "+Pe.WRAPPER_DIV_CSS_CLASS_PREFIX+Pe.IOS8_OR_ABOVE_CSS_CLASS)}else if(ce.isAndroid())e+=Pe.ANDROID_CSS_CLASS;else{if(!ce.isMacOS())return;e+=Pe.MAC_OSX_CSS_CLASS}Ue.addClass(Ce,e);return e}function F(){var e='<div class="lp_minimized" data-lp-point="minimized" data-lp-cust-id="minimized" role="region"><div class="lp_main" data-lp-point="main" role="navigation"><div class="lp_header" data-lp-point="header" data-lp-cust-id="top"><div class="lp_notification_number lpHide" data-lp-point="notification_counter"><span class="lp_notification_text" data-lp-point="notification_text">{{notification_number}}</span></div><div class="lp_header-content-wrapper"><div class="lp_title" role="heading"><div class="lp_chatting-with-icon lpHide" data-lp-type="icon" data-lp-point="chattingWithIcon"><img src="{{iconsRepository}}/sprites_v1.png" alt="" data-lp-cust-id="topBarIcon"></div><span data-lp-point="headerText" data-lp-cust-id="top_text" class="lp_top-text" data-studio-click="true">{{windowTitle}}</span></div><div class="lp_header-buttons-container" role="menubar"><button title="{{tooltip_Maximize}}" class="lp_maximize" data-lp-point="maximize" role="menuitem"><div class="lp_maximize-icon" data-lp-type="icon"><img src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Maximize}}" aria-hidden="true"></div></button> <button title="{{tooltip_Close}}" class="lp_close" data-lp-point="close" role="menuitem"><div class="lp_close-icon" data-lp-type="icon"><img src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Close}}" aria-hidden="true"></div></button></div></div></div></div></div>';e=P(e);e=e.replace(/\{\{tooltip_Close\}\}/g,ze.getString("tooltip_Close"));he.innerHTML+=e}function G(){F();q();K()}function q(){var e='<div class="lp_maximized lpmx" data-lp-point="maximized" role="region"><div class="lp_header" data-lp-point="header" data-lp-cust-id="top" data-studio-click="true" role="navigation"><div class="lp_header-content-wrapper"><button title="{{tooltip_open_widgets}}" class="lp_hidden lp_slider" data-lp-point="widget_sdk" role="menuitem"><div class="lp-slider-icon" data-lp-type="icon"><img src="{{iconsRepository}}/sprites_v1.png" alt="" aria-hidden="true"></div></button><div class="lp_notification_number wsdkNotification lpHide" data-lp-point="widgetNotificationContainer"><span class="lp_notification_text" data-lp-point="widgetNotificationText">0</span></div><div class="lp_title" data-lp-point="maximizedTitleContainer"><div class="lp_chatting-with-icon lpHide" data-lp-type="icon" data-lp-point="chattingWithIcon"><img src="{{iconsRepository}}/sprites_v1.png" alt="" aria-hidden="true" data-lp-cust-id="topBarIcon"></div><span data-lp-point="headerText" data-lp-cust-id="top_text" class="lp_top-text" data-studio-click="true" aria-live="assertive" role="presentation">{{windowTitle}}</span></div><div class="lp_header-buttons-container" role="menubar"><button title="{{tooltip_Minimize}}" class="lp_minimize" data-lp-point="minimize" role="menuitem"><div class="lp_minimize-icon" data-lp-type="icon"><img src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Minimize}}" aria-hidden="true"></div></button> <button title="{{tooltip_Popout_topbar}}" class="lp_popout lpHide" data-lp-point="popout" role="menuitem"><div class="lp_pop-out-icon" data-lp-type="icon" data-lp-point="popicon"><img src="{{iconsRepository}}/sprites_v1.png" alt="" aria-hidden="true"></div></button> <button title="{{tooltip_Close}}" class="lp_close" data-lp-point="close" role="menuitem"><div class="lp_close-icon" data-lp-type="icon"><img src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Close}}" aria-hidden="true"></div></button></div></div></div><div class="lp_main" data-lp-point="main" data-lp-cust-id="mainArea" role="main"></div></div><div data-lp-point="buffer-strip" class="lp_buffer-strip"><div class="lp_buffer-strip-container" data-lp-cust-id="mainArea"></div></div>';e=P(e);e=e.replace(/\{\{tooltip_Close\}\}/g,ze.getString("tooltip_Close"));he.innerHTML+=e}function K(){Se=he.querySelector('[data-lp-point="minimized"]');ye=he.querySelector('[data-lp-point="maximized"]');we=he.querySelector('[data-lp-point="buffer-strip"]')}function X(){he=document.createElement("div");Pe.WRAPPER_DIV_ID&&(he.id=Pe.WRAPPER_DIV_ID);Ce=document.createElement("div");Ce.appendChild(he);document.body.appendChild(Ce)}function J(e){var t=e&&e.window,n=e&&e.engConf&&e.engConf.lang;n&&V(n);se();X();G();var i=Se.querySelector('[data-lp-point="main"]');Ue.addClass(Se,"lpHide");if(Pe.MINIMIZED_VIEW_IFRAME_RENDERING){_e=ee(i);be=_e.body;Ue.addClass(be,"lp_main")}else be=i;var o=ye.querySelector('[data-lp-point="main"]');if(Pe.MAXIMIZED_VIEW_IFRAME_RENDERING){Te=ee(o);Ee=Te.body;Ue.addClass(Ee,"lp_main")}else Ee=o;Ae=ye.querySelector(['[data-lp-point="widget_sdk"]']);xe=ye.querySelector(['[data-lp-point="widgetNotificationContainer"]']);Ne=ye.querySelector(['[data-lp-point="widgetNotificationText"]']);Re=ye.querySelector(['[data-lp-point="maximizedTitleContainer"]']);ke=ye.querySelector(['[data-lp-point="chattingWithIcon"]']);Ie=ye.querySelector(['[data-lp-point="close"]']);Oe=ye.querySelector(['[data-lp-point="minimize"]']);De=ye.querySelector(['[data-lp-point="popicon"]']);De&&Ue.addClass(De,Be.poppedOut?"lp_pop-in-icon":"lp_pop-out-icon");if(Y()){ie();oe();re(Be.engConf.lang);ae()}T(!1);b(!1);a(t);Q();Z();x(!0);$()}function Y(){return Be.poppedOut||Be.external}function Z(){Le=setTimeout(function(){s(me.WAIT)},Pe.WAIT_INDICATION_DELAY)}function $(){B();H();if(ce.isMobile()||ce.isTablet()){ne({landscape:de.isLandscape()});de.on(de.EVENT_NAME.ORIENTATION_CHANGE,ne)}}function Q(){ve=Ue.addStyleTag('#lpChat .lp_close-icon{position:relative;display:inline-block;vertical-align:middle;overflow:hidden}#lpChat .lp_close-icon img{top:0;left:-480px;position:absolute}#lpChat .lp_minimize-icon{display:none}.lp_desktop #lpChat .lp_close-icon,.lp_desktop #lpChat .lp_close{width:22px;height:22px}.lpdv #lpChat .lp_close-icon,.lpdv #lpChat .lp_close{width:24px;height:24px}#lpChat *{box-sizing:border-box;font-weight:normal;letter-spacing:0;font-family:inherit;opacity:1;filter:alpha(opacity=100);max-width:none;direction:inherit;text-align:inherit;outline:none}#lpChat *::-moz-focus-inner{border:0}#lpChat table,#lpChat tbody,#lpChat td,#lpChat span,#lpChat tr,#lpChat table,#lpChat div,#lpChat button,#lpChat img{margin:0;padding:0;border:0;background:inherit;background:initial;position:static;position:initial;width:auto;height:auto;text-shadow:none;box-shadow:none;-webkit-box-shadow:initial;line-height:normal}#lpChat img{vertical-align:bottom;background:inherit;color:black}#lpChat table,#lpChat tbody,#lpChat td,#lpChat span,#lpChat tr,#lpChat table,#lpChat div,#lpChat button{vertical-align:baseline;background:inherit;color:inherit;font-size:inherit}#lpChat button{font-size:1em;border-radius:0}#lpChat{font-family:"Arial"}#lpChat .lp_header{background-color:#f0f0f0;border:1px solid #d6d6d6;border-radius:5px 5px 0 0;font-size:1.1em;z-index:2;width:100%;position:absolute}#lpChat .lp_main{padding:0;z-index:1;height:100%;width:100%;position:absolute;right:0;bottom:0}#lpChat .lp_main .lp_wait{position:absolute;top:0;bottom:0;left:0;right:0}#lpChat .lp_main .lp_wait table{height:100%;width:100%}#lpChat .lp_main .lp_wait td{text-align:center;vertical-align:middle}#lpChat .lp_main>.lp_message{text-align:center;width:100%;height:100%}#lpChat .lp_main>.lp_message .lp_text{padding:10px 4px 0 4px;text-align:center}#lpChat .lp_header-content-wrapper{width:100%;height:100%}#lpChat .lp_header-content-wrapper .lp_title{direction:ltr}#lpChat .lp_header-content-wrapper .lp_title>*{vertical-align:middle}#lpChat .lp_header-content-wrapper .lp_top-text{overflow:hidden;text-overflow:ellipsis;display:inline-block;margin-left:8px;max-width:150px;white-space:nowrap}#lpChat .lp_header-content-wrapper button{background:none;position:absolute;cursor:pointer}#lpChat>.lpmx{border:1px solid #d6d6d6;border-radius:5px 5px 0 0;box-shadow:0 0 16px 3px rgba(0,0,0,0.2);color:#000}#lpChat>.lpmx>.lp_main{background-color:#fff}#lpChat>.lpmx.lp_external-window{border-radius:0;position:fixed;left:0;right:0;bottom:0;top:0;width:100%;height:100%;overflow:hidden}#lpChat>.lpmx.lp_external-window.lp_no-top>.lp_header{display:none}#lpChat>.lpmx.lp_external-window.lp_no-top>.lp_main{top:0}#lpChat button:focus{outline:#6A9FB1 solid 2px}#lpChat .lp_text:empty,#lpChat img[src=""]{display:none}#lpChat .lpHide,#lpChat .lp_hidden{display:none !important}#lpChat table.lp_centralizer{height:100%;width:100%}#lpChat table.lp_centralizer td{text-align:center;vertical-align:middle}#lpChat .lp_rotator-container{position:relative;display:inline-block;width:100px;height:100px}#lpChat .lp_rotator-container-bg{position:absolute;top:0;right:0;bottom:0;left:0;background-color:transparent;opacity:0.92;border-radius:10px}#lpChat .lp_rotator{padding-top:12px;text-align:center;position:absolute;top:0;right:0;bottom:0;left:0}.lp_desktop #lpChat{font-size:13px}.lp_desktop #lpChat>*{width:280px;z-index:99999999;position:fixed;right:20px;bottom:0}.lp_desktop #lpChat>* .lp_header{height:36px;padding:0 5px}.lp_desktop #lpChat>* .lp_header button{z-index:99999999;top:6px}.lp_desktop #lpChat>.lpmx{height:400px}.lp_desktop #lpChat>.lpmx>.lp_header .lp_title{float:left;padding-top:9px;padding-left:3px}.lp_desktop #lpChat>.lpmx>.lp_main{height:auto;top:36px}.lp_desktop #lpChat>.lpmx .lp_header-content-wrapper .lp_header-buttons-container{float:right;direction:ltr;font-size:0}.lp_desktop #lpChat>.lpmx .lp_header-content-wrapper button{position:relative;display:inline-block}.lpdv #lpChat .lp_header-content-wrapper{text-align:center;display:table;border-collapse:collapse}.lpdv #lpChat .lp_header-content-wrapper>*{vertical-align:middle;display:table-cell}.lpdv #lpChat .lp_header-content-wrapper .lp_header-buttons-container{display:table}.lpdv #lpChat>.lpmx{z-index:99999999;opacity:0.95;position:fixed;top:0;right:0;bottom:0;left:0;border-radius:0}.lpdv #lpChat>.lpmx>.lp_header{direction:ltr;height:8%;min-height:40px}.lpdv #lpChat>.lpmx>.lp_header .lp_title{width:100%;text-align:center}.lpdv #lpChat>.lpmx>.lp_header .lp_top-text{text-align:center}.lpdv #lpChat>.lpmx>.lp_header button{top:0;right:0;height:100%;width:40px;text-align:center;position:absolute}.lpdv #lpChat>.lpmx>.lp_header .lp_close{right:0}.lpdv #lpChat>.lpmx>.lp_main{height:92%}.lpdv #lpChat.lp_landscape #lpChat>.lpmx .lp_header{display:none}.lpdv #lpChat.lp_landscape #lpChat>.lpmx>.lp_main{padding-top:0;top:0;height:100%}.lp_mobile #lpChat{font-size:14px}.lp_tablet #lpChat{font-size:18px}.lp_tablet #lpChat>.lpmx .lp_header-content-wrapper .lp_title .lp_top-text{max-width:250px}',{id:Pe.STYLE_TAG_ID})}function ee(e){var t=document.createElement("iframe");e.appendChild(t);return t.contentWindow.document}function te(){clearTimeout(Le)}function ne(e){var t=Pe.WRAPPER_DIV_CSS_CLASS_PREFIX;if(e.landscape){Ue.removeClass(Ce,t+Pe.PORTRAIT_CSS_CLASS);Ue.addClass(Ce,t+Pe.LANDSCAPE_CSS_CLASS)}else{Ue.removeClass(Ce,t+Pe.LANDSCAPE_CSS_CLASS);Ue.addClass(Ce,t+Pe.PORTRAIT_CSS_CLASS)}}function ie(){Ue.addClass(ye,Pe.EXTERNAL_CSS_CLASS)}function oe(){Be.hideTopBar&&Ue.addClass(ye,Pe.HIDE_TOP_BAR_CSS_CLASS)}function ae(){Be.NativeSDK&&Ue.addClass(ye,Pe.WEBVIEW_CSS_CLASS)}function re(e){document.documentElement.setAttribute("lang",e)}function le(e){var t=e.getStyle("top","border-radius");if(t){Se.style.borderRadius=t;ye.style.borderRadius=t}}function se(){window.outerWidth<window.innerWidth&&window.outerWidth<Pe.MINIMUM_INNER_WIDTH&&window.resizeTo(Pe.MINIMUM_INNER_WIDTH,window.outerHeight)}var ce,de,pe,ue,ge,fe,me,he,Ce,ve,Se,ye,we,_e,be,Te,Ee,Ie,Ae,xe,Ne,Re,ke,Oe,De,Le,We,Me=lpTag.unifiedWindow,Pe={STYLE_TAG_ID:"lpChatStyle",WRAPPER_DIV_ID:"lpChat",WRAPPER_DIV_CSS_CLASS_PREFIX:"lp_",MOBILE_CSS_CLASS:"mobile",TABLET_CSS_CLASS:"tablet",DESKTOP_CSS_CLASS:"desktop",DEVICE_CLASS:"lpdv",ANDROID_CSS_CLASS:"android",IOS_CSS_CLASS:"ios",IOS6_CSS_CLASS:"ios6",IOS8_OR_ABOVE_CSS_CLASS:"ios8_or_above",MAC_OSX_CSS_CLASS:"mac_osx",NATIVE_CSS_CLASS:"native_android",EXTERNAL_CSS_CLASS:"lp_external-window",HIDE_TOP_BAR_CSS_CLASS:"lp_no-top",WEBVIEW_CSS_CLASS:"lp_webview-window",PORTRAIT_CSS_CLASS:"portrait",LANDSCAPE_CSS_CLASS:"landscape",MINIMIZED_VIEW_IFRAME_RENDERING:!1,MAXIMIZED_VIEW_IFRAME_RENDERING:!1,MINIMUM_INNER_WIDTH:372,WAIT_INDICATION_DELAY:250},ze=Me.language,Ue=lpTag.taglets.lpUtil,je=(Me.log,!1),Ve=!1,Be={isMaximized:!0};j(e,t,n,i);return{render:u,show:d,hide:p,message:s,removeMessage:L,unbindDomEvents:O,setTitle:c,Messages:me,getMinimizedElement:f,getBufferStripElement:m,getMaximizedElement:h,getMainWindowElement:g,getChatWrapperElement:C,getSliderButton:v,getWidgetNotificationContainer:S,getWidgetNotificationText:y,getTitleDiv:w,getChattingWIthIcon:_,dispose:I,showClose:b,showMinimized:T,getIconRepository:W,adjustConfigStyle:E,getWrapperElementId:A}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.defaultDictionary=lpTag.unifiedWindow.defaultDictionary||{error:"Error",couldNotConnect:"Oops - unable to connect.",tryAgain:"Try again",loadingOnMinimize:"Loading",loading:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",chatEndedOnExternalWindow:"Close window in order to start new chat",externalWindowOpen:"You have an ongoing chat. Return to that window to continue the chat.",unsupportedBrowserMode:"Your browser may be in incognito mode, or it may be blocking third party cookies. Please open a regular browser session to chat, or check your browser privacy settings",cannotResumeChat:"Resume chat from the tab where the interaction began",crossDomainError:"Cannot resume conversation, please return to previous page to continue.",chatAuthError:"You are no longer logged in. Log in again to view the conversation.",connectionUnavailable:"Connection unavailable",sessionExpired:"Session expired",sessionError:"Your session has expired. Please close this window and start a new conversation in order to resume.",sharkSessionExpired:"Please refresh the page and start a new conversation.",tooltip_Close:"Close",tooltip_Minimize:"Minimize",tooltip_open_widgets:"Open widgets",tooltip_close_widgets:"Close widgets",tooltip_refresh_slider:"Refresh","de-DE":{loading:"Loading"}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.taglets.lpUnifiedWindow=lpTag.taglets.lpUnifiedWindow||function(){function e(e){var o;i(e);ce=new lpTag.unifiedWindow.AppConfigurationManager({lpTag:lpTag,utils:lpTag.taglets.lpUtil,queryParams:Le});L(Ae);re=window.lpTag.taglets.lpSecureStorage;ue=new _e.DeviceDetector;z(Ae,Ee);pe=new _e.BrowserStateManager(ue);ae=new lpTag.unifiedWindow.Events({eventBufferLimit:0,cloneEventData:!1});u();j();o=n(Ae);o?U(o,!0):t()}function t(){re.configure({debug:Ae.debug,unifiedWindow:{site:Ae.accountId,env:Ae.env,url:Ae.secureStorageLocation,chosenStorageHandler:r}})}function n(e){var t;e.invalidAuthConnector?t=de.Messages.SESSION_EXPIRED:e.JsLoadingFailure?t=de.Messages.CONNECTION_UNAVAILABLE:"#RIP"===window.location.hash&&(t=de.Messages.RIP);return t}function i(e){lpTag.getExternalConfig&&(Ae=lpTag.getExternalConfig());o(e)}function o(e){if(e&&e.constructor===Array){try{be.convertConfig(e,Ae)}catch(t){}Ae.displayShortlyMessage=a()}else e&&(Ae=be.cloneExtend(Ae,e,!0))}function a(){var e=Ae.textCustomization&&Ae.textCustomization[0]&&Ae.textCustomization[0].displayShortlyMessage;return e===!0||"true"===e}function r(e){g(e,p.bind(this,e))}function l(e){e.redirect||"undefined"!=typeof Ae.embeddedSupported?s(e):Ae.startedEngConf=e}function s(e){e&&e.preChatLines&&(e.preChatLines=oe(e.preChatLines));if(We)_e.Application&&ie()&&ae.trigger({appName:ye,eventName:"maximize"});else if(pe.isConnected()){ne()&&te();if(h(e))m(e);else{if(Ae.browserModeUnSupported){U(de.Messages.UNSUPPORTED,!0);return}u();c(E(e))}}else U(de.Messages.CONNECTION_UNAVAILABLE)}function c(e,t){t&&u();g(null,function(){se.getState(e,e)})}function d(){return{conf:be.clone(Ae)}}function p(e){"object"!=typeof e?Ae.secureStorageType=e:e&&e.error&&(Ae.browserModeUnSupported=!0);le=e;Ae.popoutSupported=Ae.secureStorageType&&Ae.secureStorageType!==re.storageTypes.SESSIONSTORAGE&&pe.visibilitySupported();Ae.embeddedSupported=!!Ae.secureStorageType;y()}function u(){if(!de){de=new _e.WrapperWindow(Ae,ue,pe,Z);Ae.wrapperElementId=de.getWrapperElementId()}}function g(e,t){ge||(ge=new _e.SessionManager({accountId:Ae.accountId,sessionId:Ae.sessionId,external:Ae.external,events:ae,secureStorageLocation:Ae.secureStorageLocation,sessionTimeout:b(Ae),echoedSessionTimeout:Ae.sessionTimeout}));ge.getSessionId(f.bind(this,e,t))}function f(e,t,n){Ae.sessionId=n;se||(se=new _e.StateAnalyzer({sessionId:Ae.sessionId,accountId:Ae.accountId,disableSessionTimeout:Ae.disableSessionTimeout,secureStorageLocation:Ae.secureStorageLocation},ge));be.runCallback(t,null,e)}function m(e){e.redirect||S()&&v()?window.location.href=ce.getExternalResourceURL(e,Ae,!1,!0):Ae.openedExternal=ce.openExternal(e,Ae,!1,!0)}function h(e){return!Ae.embeddedSupported||e.isPopOut||v()||ce.isRecaptchaEnabled()}function C(){return Ae.poppedOut||Ae.external}function v(){return!ue.isMobileOptimized()&&!ue.isDesktop()}function S(){return Ae.startedEngConf}function y(){se.getState(T,T)}function w(e,t,n){if(_())U(de.Messages.EXTERNAL_OPEN,!0);else{Ae.poppedOut&&(t=se.state.IN_SESSION);ve=t;switch(t){case se.state.INVALID:U(de.Messages.IN_SESSION);return;case se.state.IN_SESSION:return{uiState:e};case se.state.NOT_STARTED:return n?{engConf:n}:void 0;case se.state.EXPIRED:Q();return null}}}function _(){if(Ae.openedExternal){if(!Ae.openedExternal.closed)return!0;Ae.openedExternal=void 0;delete Ae.openedExternal}return!1}function b(e){var t,n=ue.getDeviceFamilyName().toLowerCase();t=e&&e.chatSessionTimeout&&e.chatSessionTimeout[n]?e.chatSessionTimeout[n]:ue.isMobile()?De.MOBILE:ue.isTablet()?De.TABLET:De.DESKTOP;return t}function T(e,t){var n=w(e,t);if(Ae.external){n&&n.uiState&&n.uiState.chat&&n.uiState.chat.state===ke&&(n.uiState={engConf:n.uiState.engConf});R(n||Ae)}else n?pe.isConnected()?R(n):U(de.Messages.CONNECTION_UNAVAILABLE):S()&&s(Ae.startedEngConf)}function E(e){return function(t,n){var i=w(t,n,e);i&&R(i)}}function I(e){if(me&&!0===Ne&&xe&&!he){var t={window:me,unified:Ae,uiState:e};ge.refresh(A.bind(this,t))}}function A(e){he=_e.Application(e,{appConfigurationManager:ce,browserStateManager:pe,sessionManager:ge,deviceDetector:ue,wrapperWindow:de,events:ae})}function x(e){return function(t){if(t&&!t.error){me=t;I(e)}else U(de.Messages.CONNECTION_UNAVAILABLE)}}function N(e){return function(t){if(t){U(de.Messages.CONNECTION_UNAVAILABLE);Q()}else{Ne=!0;I(e)}}}function R(e){var t;if(!We){We=!0;if(e.uiState)t=e.uiState;else{t=be.cloneExtend(Ee);t.engConf=e.engConf;e.engConf&&e.engConf.minimiseOnStart&&(t.window.maximized=!1)}de.render(t,function(){xe=!0;de.message(de.Messages.WAIT);I(t)},!0);var n={sessionId:Ae.sessionId,accountId:Ae.accountId,secureStorageLocation:Ae.secureStorageLocation,domain:Ae.acCdnDomain};t.engConf&&"undefined"!=typeof t.engConf.lewid&&(n.windowId=t.engConf.lewid);fe=new _e.WindowConfigurationManager(n);fe.getConf(x(t));D(N(t),t)}}function k(e){Ae.isMessaging=!!e.async;var t={},n=Ae.isMessaging?"/UMSClientAPI.min.js":"/lpChatV3.min.js",i=ue.getDeviceFamilyName().toLowerCase();_e.Application||(t=Ae.loadObj||{framework:Ae.codeRepository+"/ui-framework.js"+Te,api:Ae.codeRepository+n+Te,surveyLogic:Ae.codeRepository+"/surveylogicinstance.min.js"+Te,unified:{dependency:["framework","api","surveyLogic"],url:Ae.codeRepository+"/"+i+"Embedded.js"+Te}});if(C()){Se=M();lpTag.ovr=lpTag.ovr||{domain:Se};lpTag.debug=Ae.debug?"2":"1"}e&&e.lang&&"en-us"!==e.lang.toLowerCase()&&(t.lang=Ae.langRepository+"/"+e.lang+".js"+Te);!h(e)&&ce.isAuthenticatedEnabled(e)&&(t.xhr=Ae.codeRepository+"/xhr.js"+Te);Ae.widgetSDK&&(t.widgetSDK="https://"+Ae.leCdnDomain+"/unifiedwindow/widgetSDK.min.js"+Te);return t}function O(e,t){be.isEmpty(e)?be.runCallback(t):lpTag.taglets.jsLoader.loadJS({loadObj:e,success:function(){be.runCallback(t)},error:function(e){be.runCallback(t,null,e||{})}})}function D(e,t){var n=k(t.engConf);lpTag.loadTaglets&&!C()?lpTag.loadTaglets({scp:Ae.scp,excludeWhitelist:!0,success:function(){O(n,e)},error:function(t){be.runCallback(e,null,t||{})}}):O(n,e)}function L(e){e.accountId=""+(e.accountId||lpTag.site);e.domain=lpTag.csds.getDomain(Oe.ADMIN_AREA)||lpTag.csds.getDomain(Oe.ALL);e.domain="hc1"===e.domain?"hc1.dev.lprnd.net":e.domain;e.env=e.env||W();e.asyncMessagingDomain=lpTag.csds.getDomain(Oe.ASYNC_MESSAGING);e.idpDomain=lpTag.csds.getDomain(Oe.IDP);e.debug=P()}function W(){return"function"==typeof lpTag.getEnv&&lpTag.getEnv()}function M(){return"function"==typeof lpTag.getTagDomain&&lpTag.getTagDomain(Ae.env)}function P(){return Ae.debug||Ae.accountId&&(0===Ae.accountId.indexOf("qa")||0===Ae.accountId.indexOf("le"))||Ae.domain&&0===Ae.domain.indexOf("hc1")}function z(e,t){var n,i,o,a;e.leCdnDomain=e.leCdnDomain||lpTag.csds.getDomain(Oe.LECDN);e.acCdnDomain=e.acCdnDomain||lpTag.csds.getDomain(Oe.ACCDN);n="https://"+e.leCdnDomain+"/";o="le_unified_window";i=o+ce.getUWDir(e,we);a=n+"le_secure_storage/"+(re.v?re.v+"/":"");e.staticCodeRepository=n+(e.codeRepository?e.codeRepository:o);e.codeRepository=n+(e.codeRepository?e.codeRepository:i);e.imagesRepository=n+(e.imagesRepository?e.imagesRepository:i+"/resources");e.iconsRepository=n+(e.iconsRepository?e.iconsRepository:i+"/resources/icons")+"/"+ue.getDeviceFamilyName().toLowerCase();e.audioRepository=n+(e.audioRepository?e.audioRepository:i+"/resources/audio");e.langRepository=n+(e.langRepository?e.langRepository:i+"/resources/i18n");e.agentImageRepository=n+(e.agentImageRepository?e.agentImageRepository:i+"/resources/agentImages");e.secureStorageLocation=e.external?re.sessionStorageStaticDomain:e.secureStorageLocation||a;(ue.isMobile()||ue.isTablet())&&(t.position={right:0});t.window.embedded=!e.external;if(!t.window.embedded){e.NativeSDK="1"==Le.sdk;e.IOS="1"==Le.ios}e.supportBlockCCPattern=!!lpTag.taglets.cleanCCPatterns;e.scp=e.scp||"uw"}function U(e,t){Ce&&clearTimeout(Ce);de.render(null,function(){de.message(e,!0)});t||C()||(Ce=setTimeout(function(){de&&de.dispose()},Re))}function j(){pe.on(pe.EVENT_NAME.FOCUS_CHANGE,F);ae.bind({appName:"ChatStateManager",eventName:"ended",func:Q});ae.bind({appName:"Application",eventName:"appEnded",func:te});ae.bind({appName:"*",eventName:"doHaraKiri(Seppuku)",func:ee});ae.bind({appName:"SessionManager",eventName:"sessionChanged",func:K});ae.bind({appName:"ChatAPIV3",eventName:"error",func:B});ae.bind({appName:"API",eventName:"error",func:B});ae.bind({appName:"API",eventName:"error",func:H});ae.bind({appName:"ChatStateManager",eventName:"startChatInfo",func:V})}function V(e){e.chatTimeout&&(Ae.sessionTimeout=e.chatTimeout)}function B(e){var t=de.Messages[e&&e.errorType]||de.Messages.CONNECTION_UNAVAILABLE;U(t,e&&e.keepError)}function H(e){Me=e&&e.errorType===lpTag.unifiedWindow.consts.errorTypes.AUTH_ERROR?te:Me}function F(e){e.focus&&ve===Ie&&G()}function G(){ge=ge||new _e.SessionManager({accountId:Ae.accountId,sessionId:Ae.sessionId,external:Ae.external,events:ae,secureStorageLocation:Ae.secureStorageLocation,sessionTimeout:b(Ae),echoedSessionTimeout:Ae.sessionTimeout});ge.getSessionCookie(q)}function q(e){if(e&&e.sid&&"null"!==e.sid){ge=null;c(J,!0)}}function K(){ge&&ge.getSessionCookie(X)}function X(e){if(e&&e.sid&&"null"!==e.sid){Q(!0);u();c(J)}else Q()}function J(e,t){ve=t;switch(t){case se.state.INVALID:U(de.Messages.IN_SESSION);break;case se.state.IN_SESSION:Y(e.engConf);break;case se.state.NOT_STARTED:te()}}function Y(e){te();s(e)}function Z(){be.runCallback(Me)}function $(){Q();te()}function Q(e){We=!1;Ce&&clearTimeout(Ce);ve=Ie;if(ge){ge.dispose(e);ge=null}me=null;if(fe){fe.clear();fe=null}Ae.sessionId=null;delete Ae.sessionId;se=null}function ee(){de&&de.dispose()}function te(){Ne=!1;xe=!1;if(he){he.methods.end();he=null;We=!1}de=null;ae.trigger({appName:ye,eventName:"windowClosed",global:!0})}function ne(){return be.getPropertyFromObject(he,"methods.isDisposed")&&he.methods.isDisposed()}function ie(){return be.getPropertyFromObject(he,"methods.isDisposed")&&!he.methods.isDisposed()}function oe(e){var t="msg",n=0,i={};e.forEach(function(e){i[t+ ++n]=e});return i}var ae,re,le,se,ce,de,pe,ue,ge,fe,me,he,Ce,ve,Se,ye="lpUnifiedWindow",we="8.17.1.2-release_1621",_e=lpTag.unifiedWindow,be=lpTag.taglets.lpUtil,Te="?version="+(we||(new Date).getTime().toString()),Ee={window:{maximized:!0,position:{right:"20px",bottom:0},sound:!0,notificationCount:0,actionsVisible:!1,embedded:!0}},Ie=3,Ae={},xe=!1,Ne=!1,Re=5e3,ke="applicationEnded",Oe={ADMIN_AREA:"adminArea",ALL:"ALL",LECDN:"leCdnDomain",ACCDN:"acCdnDomain",ASYNC_MESSAGING:"asyncMessagingEnt",IDP:"idp"},De={DESKTOP:40,MOBILE:120,TABLET:120},Le=be.getURLParams(window.location.search),We=!1,Me=$;return{v:we,name:ye,init:e,startFlow:l,clicked:s,inspect:d}}();}catch(e){lpTag.handleGeneralError("lpUnifiedWindow",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.authenticator=lpTag.taglets.authenticator||function(){function t(){lpTag.log("authenticator init called","DEBUG","authenticator")}function e(t,e,i){return t.type===p.OAUTH_IMPLICIT||t.type===p.OAUTH_CODE?n(t,e,i):r(t,e,i)}function n(t,e,n){var r=o(n),u=i(e,r);t=t||{};lpTag.log("_getOAuthSSOKey: "+g,"DEBUG","authenticator");lpTag.taglets.lpUtil.runCallbackByObject(t.configuration,u,r)}function r(t,e,n){lpTag.log("_getServer2ServerSSOKey"+g,"DEBUG","authenticator");lpTag.taglets.xhr.issueCall({url:t.configuration.genKeyUrl,method:"GET",query:{rt:"json"},retries:f.retries,timeout:f.timeout,success:u(e),error:o(n)})}function i(t,e){return function(n,r){var i=null===r||"undefined"==typeof r;if(i&&n){var o,u;if("object"==typeof n){o=n.ssoKey;u=n.redirect_uri}else o=n;t({ssoKey:o,redirect_uri:u})}else e()}}function o(t){return function(e){l=!0;"function"==typeof t&&t(e)}}function u(t){return function(e){t(e.body||{})}}function a(){return l?!0:!1}function c(){var t={name:g,ssoKeyGenTransport:{timeout:f.timeout,retries:f.retries}};return t}var l,s="0.1.0",g="authenticator",f={timeout:3e4,retries:3,successResponseCode:201},p={S2S:0,OAUTH_IMPLICIT:1,OAUTH_CODE:2};return{v:s,init:t,getSSOKey:e,isErroneous:a,inspect:c}}();}catch(e){lpTag.handleGeneralError("authenticator",e);}try{"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.hooks=window.lpTag.taglets.hooks||function(o){function n(){c={};e(o.hooks);t()}function t(){o.hooks=o.taglets.hooks}function e(o){o=Array.isArray(o)?o:[o];o.length>0&&o.forEach(function(o){if(a(o)){c[o.name]=c[o.name]||[];c[o.name].push(o.callback)}})}function a(n){if(!n){o.log("Hook is not defined","ERROR","hooks");return!1}if("string"!=typeof n.name){o.log("Hook name '"+n.name+"' is not a string","ERROR","hooks");return!1}if("function"!=typeof n.callback){o.log("Hook callback for '"+n.name+"' is not a function","ERROR","hooks");return!1}o.log("Hook callback for '"+n.name+"' was added successfully","INFO","hooks");return!0}function i(n){if(n&&n.name){var t=c[n.name]||[];t.forEach(function(t){if("function"==typeof t)try{var e=t(n);if("object"===("undefined"==typeof e?"undefined":_typeof(e))){n=e;o.log("Hook '"+n.name+"' returned data successfully","INFO","hooks")}else o.log("Hook '"+n.name+"' callback didn't return an object","ERROR","hooks")}catch(a){o.log("Hook callback threw an exception: "+a.message,"ERROR","hooks")}})}return n}var l="hooks",r="0.0.2",c={};return{version:r,name:l,init:n,push:e,exec:i}}(window.lpTag);}catch(e){lpTag.handleGeneralError("hooks",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsLoader=lpTag.taglets.jsLoader||function(e){function t(e){var t=[],n=[],a=!1;for(var r in e)if("string"==typeof e[r]||e[r].url)if(e[r].dependency){var l=o(e,e[r].dependency);l.length>0&&(t=t.concat(l))}else"string"==typeof e[r]||"string"==typeof e[r].url?a=!0:n.push(e[r]);else"string"!=typeof e[r]&&n.push(r);return{missingKeys:t,invalidUrls:n,requestValid:0===t.length&&0===n.length&&a}}function n(){lpTag.log("JSLoader was initialised","DEBUG",v)}function a(e){T+=1;var n="";if(e&&e.loadObj){var a=t(e.loadObj);if(a.requestValid){e.startTime=new Date;for(var r in e.loadObj)if(e.loadObj[r]!==!0&&!e.loadObj[r].dependency){n=e.loadObj[r].url||e.loadObj[r];f(n,e.context,i(r,e))}}else j(e.error,e.context||null,a)}}function r(){return{version:S,name:v,errors:m,downloads:E,configsCount:T}}function o(e,t){var n=[];t=t.constructor===Array?t:[t];for(var a=0;a<t.length;a++)e[t[a]]||n.push(t[a]);return n}function l(e,t,n){m+=1;n.loadError=n.loadError||[];n.loadError.push({key:e,url:t});return!0}function d(e,t,n){E+=1;if("object"==typeof t.loadObj[e]){var a=t.loadObj[e];j(n&&a.error?a.error:a.success,a.context||null,n?{error:!0,data:a}:{data:a})}t.loadObj[e]=!0}function c(e){var t=!0;for(var n in e.loadObj)if(e.loadObj.hasOwnProperty(n)&&e.loadObj[n]!==!0){t=!1;break}return t}function i(e,t){return function(n,a){d(e,t,a);a&&l(e,n,t);u(e,t);c(t)&&s(t,!!t.loadError)}}function s(e,t){e.endTime=new Date;setTimeout(function(){j(t?e.error:e.success,e.context,t?e.loadError:e);e=null},10)}function u(e,t){var n;for(var a in t.loadObj)if("object"==typeof t.loadObj[a]){t.loadObj[a].dependency=t.loadObj[a].dependency&&t.loadObj[a].dependency.constructor===Array?t.loadObj[a].dependency:[t.loadObj[a].dependency];n=[];for(var r=0;r<t.loadObj[a].dependency.length;r++)t.loadObj[a].dependency[r]!==e&&n.push(t.loadObj[a].dependency[r]);if(n.length!==t.loadObj[a].dependency.length){t.loadObj[a].dependency=n;0===n.length&&f(t.loadObj[a].url,t.loadObj[a].context,i(a,t))}}}function f(e,t,n){if(w[e])w[e].state===R.LOADING?g(n,w[e].callbackQueue):w[e].state===R.SUCCESS&&j(n,t,[e]);else{w[e]=p(R.LOADING);g(n,w[e].callbackQueue);b(e,{success:function(){w[e].state=R.SUCCESS;O.call(this,e,t,w[e].callbackQueue)},error:function(){w[e].state=R.ERROR;y.call(this,e,t,w[e].callbackQueue)}})}}function p(e,t){return{state:e,callbackQueue:t||[]}}function b(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("charset","UTF-8");n.onreadystatechange=n.onload=t.success;n.onerror=t.error;n.setAttribute("src",e);(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}function O(t,n,a){var r=!1;this.readyState?e.opera||"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0):r=!0;if(r){h(t,n,a,!1);this.onerror=this.onload=this.onreadystatechange=null}}function y(e,t,n){h(e,t,n,!0);this.onerror=this.onload=this.onreadystatechange=null}function g(e,t){t&&-1===t.indexOf(e)&&t.push(e)}function h(e,t,n,a){for(var r;n.length;){r=n.pop();j(r,t,e,a)}}function j(t,n){n=n||e;if("function"==typeof t){var a=Array.prototype.slice.call(arguments,2);try{return t.apply(n,a)}catch(r){lpTag.log("Failed to execute callback exc= "+r.message,"ERROR",v)}}}var v="jsLoader",S="1.0.1",E=0,m=0,T=0,R={LOADING:"LOADING",SUCCESS:"SUCCESS",ERROR:"ERROR"},w={};return{v:S,init:n,loadJS:a,validateLoadObj:t,inspect:r}}(window);}catch(e){lpTag.handleGeneralError("jsLoader",e);}